"use strict";(self["webpackChunkSPRC_NDERMS"]=self["webpackChunkSPRC_NDERMS"]||[]).push([[2246],{52246:(t,e,a)=>{a.r(e),a.d(e,{default:()=>it});var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[0==t.current_view?a("ViewFR",{on:{currentView:function(e,a,o){return t.SET_EDIT(e,a,o)}}}):t._e(),1==t.current_view?a("AddFR",{on:{currentView:function(e){return t.current_view=e}}}):t._e(),2==t.current_view?a("EditFR",{attrs:{id_record:t.edit_row,moc_no:t.moc_no},on:{currentView:function(e){return t.current_view=e}}}):t._e()],1)},i=[],n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"page-container"},[a("div",{staticClass:"page-section"},[a("div",{staticClass:"table-wrapper"},[a("DxDataGrid",{attrs:{id:"data-grid-list","key-expr":"id","data-source":t.mocList,selection:{mode:"single"},"hover-state-enabled":!0,"allow-column-reordering":!0,"show-borders":!0,"show-row-lines":!0,"row-alternation-enabled":!1,"word-wrap-enabled":!0,"column-auto-width":!0},on:{"init-new-row":function(e){return t.SET_CURRENT_VIEW(1)}},scopedSlots:t._u([{key:"action-cell-template",fn:function(e){var o=e.data;return[a("div",{staticClass:"action-wrapper"},[a("div",{on:{click:function(e){return t.SET_CURRENT_VIEW(2,o.data.id)}}},[a("img",{staticClass:"penSvg",attrs:{src:"/img/svg/magnifying-glass-svg.svg"}})])])]}}])},[a("DxEditing",{attrs:{"allow-updating":!1,"allow-deleting":!1,"allow-adding":!1,"use-icons":!0,mode:"popup"}}),a("DxFilterRow",{attrs:{visible:!0}}),a("DxHeaderFilter",{attrs:{visible:!0}}),a("DxSelection",{attrs:{mode:"single"}}),a("DxColumn",{attrs:{"data-field":"moc_number",caption:"Item",width:140,alignment:"center"}}),a("DxColumn",{attrs:{"data-field":"title",caption:"Platform",width:200,alignment:"left"}}),a("DxColumn",{attrs:{"data-field":"worksite",caption:"Tag Number",width:120,alignment:"center"}}),a("DxColumn",{attrs:{"data-field":"id_moc_noc",caption:"Description","min-width":120,alignment:"left"}}),a("DxColumn",{attrs:{"data-field":"id_moc_rrl",caption:"Latest Record Date",width:120,alignment:"center",dataType:"date",format:"dd MMM yyyy"}}),a("DxColumn",{attrs:{"data-field":"start_date",caption:"Metal Loss (mm)",width:100,alignment:"center"}}),a("DxColumn",{attrs:{"data-field":"expiry_date",caption:"Corrosion Rate (mm/y)",width:100,alignment:"center",dataType:"date",format:"dd MMM yyyy"}}),a("DxColumn",{attrs:{"data-field":"expiry_date",caption:"Comments",width:100,alignment:"center"}}),a("DxColumn",{attrs:{width:80,alignment:"center","cell-template":"action-cell-template"}}),a("DxScrolling",{attrs:{mode:"standard"}}),a("DxSearchPanel",{attrs:{visible:!0}}),a("DxPaging",{attrs:{"page-size":5,"page-index":0}}),a("DxPager",{attrs:{"show-page-size-selector":!0,"allowed-page-sizes":[5,10,25],"show-navigation-buttons":!0,"show-info":!1,"info-text":"Page {0} of {1} ({2} items)"}}),a("DxExport",{attrs:{enabled:!1}})],1)],1)])]),1===t.isShow?a("AddPopup",{on:{popup:t.FETCH_MOC_RECORD}}):t._e()],1)},s=[],r=(a(5086),a(17),a(88704)),c=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"page-container"},[a("div",{staticClass:"page-section"},[a("div",{staticClass:"table-wrapper"},[a("h3",{staticStyle:{"grid-column":"span 2","margin-bottom":"0","margin-top":"0"}},[t._v("New Corrosion Coupon")]),a("div",{staticClass:"input-wrapper"},[a("span",[t._v("Platform")]),a("div",{staticClass:"input"},[a("DxTextBox",{attrs:{placeholder:"Enter Platform"},model:{value:t.mocList.worksite,callback:function(e){t.$set(t.mocList,"worksite",e)},expression:"mocList.worksite"}})],1)]),a("div",{staticClass:"input-wrapper"},[a("span",[t._v("Tag Number")]),a("div",{staticClass:"input"},[a("DxTextBox",{attrs:{placeholder:"Enter Tag Number"},model:{value:t.mocList.worksite,callback:function(e){t.$set(t.mocList,"worksite",e)},expression:"mocList.worksite"}})],1)]),a("div",{staticClass:"input-wrapper",attrs:{fill:""}},[a("span",[t._v("Description")]),a("div",{staticClass:"input"},[a("DxTextBox",{attrs:{placeholder:"Enter Description"},model:{value:t.mocList.worksite,callback:function(e){t.$set(t.mocList,"worksite",e)},expression:"mocList.worksite"}})],1)]),a("div",{staticClass:"input-wrapper"},[a("span",[t._v("Latest Record Date")]),a("div",{staticClass:"select"},[a("DxDateBox",{attrs:{type:"date",placeholder:"Select Latest Record Date","display-format":"dd MMM yyyy"},model:{value:t.mocList.start_date,callback:function(e){t.$set(t.mocList,"start_date",e)},expression:"mocList.start_date"}})],1)]),a("div",{staticClass:"input-wrapper"},[a("span",[t._v("Metal Loss (mm)")]),a("div",{staticClass:"input"},[a("DxTextBox",{attrs:{placeholder:"Enter Metal Loss"},model:{value:t.mocList.worksite,callback:function(e){t.$set(t.mocList,"worksite",e)},expression:"mocList.worksite"}})],1)]),a("div",{staticClass:"input-wrapper"},[a("span",[t._v("Corrosion Rate (mm/y)")]),a("div",{staticClass:"input"},[a("DxTextBox",{attrs:{placeholder:"Enter Corrosion Rate"},model:{value:t.mocList.worksite,callback:function(e){t.$set(t.mocList,"worksite",e)},expression:"mocList.worksite"}})],1)]),a("div",{staticClass:"input-wrapper"},[a("span",[t._v("Comments")]),a("div",{staticClass:"input"},[a("DxTextBox",{attrs:{placeholder:"Enter Comments"},model:{value:t.mocList.worksite,callback:function(e){t.$set(t.mocList,"worksite",e)},expression:"mocList.worksite"}})],1)]),a("button",{staticClass:"create",on:{click:t.CREATE_RECORD}},[t._v("Create")]),a("button",{on:{click:function(e){return t.$emit("popup")}}},[t._v("Cancel")])])])])},l=[],d=a(49148),u=a.n(d),m=a(47093),p=a(10788),h=a.n(p),_=a(16164),f=a(57723),g=a.n(f),C=a(17768),D=a.n(C),x=a(63869);const v={name:"inspection-record",components:{DxDateBox:D(),DxTextBox:g()},created:function(){this.$store.commit("UPDATE_CURRENT_PAGENAME",{subpageName:"CORROSION COUPON",subpageInnerName:null}),this.FETCH_DROPDOWN_NOC(),this.FETCH_DROPDOWN_RRL(),this.FETCH_DROPDOWN_STATUS()},data:function(){return{mocList:{id:0,is_active:!0,moc_number:null,title:null,id_moc_noc:null,worksite:null,id_moc_rrl:null,start_date:null,expiry_date:null,id_moc_status:null,action:null,remark:null,initiator:null},formSelect:{noc:[],status:[],rrl:[]}}},computed:{},methods:{EXPORT_DATA:function(t){var e=new m.Workbook,a=e.addWorksheet("Projects");(0,_.V)({worksheet:a,component:t.component}).then((function(){e.xlsx.writeBuffer().then((function(t){h()(new Blob([t],{type:"application/octet-stream"}),"inspection_record.xlsx")}))})),t.cancel=!0},CREATE_RECORD:function(){var t=this;console.log("pdf",this.mocList.moc_file_path),null!==this.mocList.start_date&&(this.mocList.start_date=u()(this.mocList.start_date).format("L")),null!==this.mocList.expiry_date&&(this.mocList.expiry_date=u()(this.mocList.expiry_date).format("L")),(0,r.p)({method:"post",url:"/ManagementOfChange",headers:{Authorization:"Bearer "+JSON.parse(localStorage.getItem("token"))},data:this.mocList}).then((function(e){201==e.status&&t.SET_CURRENT_VIEW(0)}))["catch"]((function(e){t.$ons.notification.alert(e.code+" "+e.response.status+" "+e.message)}))["finally"]((function(){}))},FETCH_DROPDOWN_NOC:function(){var t=this;(0,r.p)({method:"get",url:"/Md/get-md-moc-noc-list",headers:{Authorization:"Bearer "+JSON.parse(localStorage.getItem("token"))},data:{}}).then((function(e){200==e.status&&e.data&&(t.formSelect.noc=e.data)}))["catch"]((function(t){console.log(t)}))["finally"]((function(){t.isLoading=!1}))},FETCH_DROPDOWN_STATUS:function(){var t=this;(0,r.p)({method:"get",url:"/Md/get-md-moc-status-list",headers:{Authorization:"Bearer "+JSON.parse(localStorage.getItem("token"))},data:{}}).then((function(e){200==e.status&&e.data&&(t.formSelect.status=e.data)}))["catch"]((function(t){console.log(t)}))["finally"]((function(){t.isLoading=!1}))},FETCH_DROPDOWN_RRL:function(){var t=this;(0,r.p)({method:"get",url:"/Md/get-md-moc-rrl-list",headers:{Authorization:"Bearer "+JSON.parse(localStorage.getItem("token"))},data:{}}).then((function(e){200==e.status&&e.data&&(t.formSelect.rrl=e.data)}))["catch"]((function(t){console.log(t)}))["finally"]((function(){t.isLoading=!1}))},SET_CURRENT_VIEW:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.$store.commit("SET_SHOW_BACK_BUTTON",!0),null!==e?this.$emit("currentView",t,e):this.$emit("currentView",t)}}},E=v;var w=a(81656),R=(0,w.A)(E,c,l,!1,null,"67761ffd",null);const S=R.exports,T={name:"inspection-record",components:{DxDataGrid:x.DxDataGrid,DxSearchPanel:x.DxSearchPanel,DxPaging:x.DxPaging,DxPager:x.DxPager,DxScrolling:x.DxScrolling,DxColumn:x.DxColumn,DxExport:x.DxExport,DxHeaderFilter:x.DxHeaderFilter,DxSelection:x.DxSelection,DxEditing:x.DxEditing,DxFilterRow:x.DxFilterRow,AddPopup:S},created:function(){this.$store.commit("UPDATE_CURRENT_PAGENAME",{subpageName:"ER PROBE",subpageInnerName:null}),1==this.$store.state.status.server&&(this.FETCH_DROPDOWN_NOC(),this.FETCH_DROPDOWN_RRL(),this.FETCH_DROPDOWN_STATUS(),this.FETCH_MOC_RECORD())},data:function(){return{testList:null,mocList:{},dataGridAttributes:{class:"data-grid-style"},isShow:0}},computed:{},methods:{EXPORT_DATA:function(t){var e=new m.Workbook,a=e.addWorksheet("Projects");(0,_.V)({worksheet:a,component:t.component}).then((function(){e.xlsx.writeBuffer().then((function(t){h()(new Blob([t],{type:"application/octet-stream"}),"inspection_record.xlsx")}))})),t.cancel=!0},FETCH_MOC_RECORD:function(){var t=this;this.isLoading=!0,this.isShow=0,(0,r.p)({method:"get",url:"/ManagementOfChange",headers:{Authorization:"Bearer "+JSON.parse(localStorage.getItem("token"))}}).then((function(e){console.log("insp record:"),console.log(e),200==e.status&&e.data&&(t.mocList=e.data)}))["catch"]((function(t){console.log(t)}))["finally"]((function(){t.isLoading=!1}))},DELETE_RECORD:function(t){var e=this;(0,r.p)({method:"delete",url:"/ManagementOfChange/delete-management-of-change?id="+t.key,headers:{Authorization:"Bearer "+JSON.parse(localStorage.getItem("token"))}}).then((function(t){204==t.status&&(console.log("delete success"),e.FETCH_MOC_RECORD())}))["catch"]((function(t){e.$ons.notification.alert(t.code+" "+t.response.status+" "+t.message)}))["finally"]((function(){}))},GET_STATUS_CELL_COLOR:function(t){if("data"===t.rowType&&"id_moc_status"===t.column.dataField){if(t.data.id_moc_status){var e=this.status.filter((function(e){return e.id===t.data.id_moc_status}));return console.log(e),e[0].color_code}return"#fff"}},FETCH_DROPDOWN_NOC:function(){var t=this;(0,r.p)({method:"get",url:"/Md/get-md-moc-noc-list",headers:{Authorization:"Bearer "+JSON.parse(localStorage.getItem("token"))},data:{}}).then((function(e){200==e.status&&e.data&&(t.noc=e.data)}))["catch"]((function(t){console.log(t)}))["finally"]((function(){t.isLoading=!1}))},FETCH_DROPDOWN_STATUS:function(){var t=this;(0,r.p)({method:"get",url:"/Md/get-md-moc-status-list",headers:{Authorization:"Bearer "+JSON.parse(localStorage.getItem("token"))},data:{}}).then((function(e){200==e.status&&e.data&&(t.status=e.data)}))["catch"]((function(t){console.log(t)}))["finally"]((function(){t.isLoading=!1}))},FETCH_DROPDOWN_RRL:function(){var t=this;(0,r.p)({method:"get",url:"/Md/get-md-moc-rrl-list",headers:{Authorization:"Bearer "+JSON.parse(localStorage.getItem("token"))},data:{}}).then((function(e){200==e.status&&e.data&&(t.rrl=e.data)}))["catch"]((function(t){console.log(t)}))["finally"]((function(){t.isLoading=!1}))},SET_CURRENT_VIEW:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this.$store.commit("SET_SHOW_BACK_BUTTON",!1),null!==e&&null===a?this.$emit("currentView",t,e):null!==e&&null!==a?this.$emit("currentView",t,e,a):this.$emit("currentView",t)}}},O=T;var L=(0,w.A)(O,n,s,!1,null,"f262da96",null);const N=L.exports;var k=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"page-container"},[a("div",{staticClass:"page-section"},[a("button",{staticClass:"back",attrs:{"span-3":""},on:{click:function(e){return t.SET_CURRENT_VIEW(0)}}},[t._v("BACK")]),a("div",{staticClass:"table-wrapper"},[a("div",{staticClass:"table-tabs-buttons",attrs:{fill:""}},t._l(t.tabs,(function(e,o){return a("button",{key:o,class:t.active_tab===e?"active":"",on:{click:function(a){t.active_tab=e}}},[t._v(" "+t._s(e)+" ")])})),0),t.active_tab===t.tabs[0]?a("div",{staticClass:"table-chart",attrs:{fill:""}},[a("div",{staticClass:"chart-container"},[a("highcharts",{attrs:{options:t.chartOptions}})],1),a("div",{staticClass:"chart-container"},[a("highcharts",{attrs:{options:t.chartOptions}})],1),a("div",{staticClass:"chart-container"},[a("highcharts",{attrs:{options:t.chartOptions}})],1)]):t._e(),t.active_tab===t.tabs[1]?a("div",{attrs:{fill:""}},[a("DxDataGrid",{attrs:{id:"data-grid-list","key-expr":"id","data-source":t.monitoringRecord,selection:{mode:"single"},"hover-state-enabled":!0,"allow-column-reordering":!0,"show-borders":!0,"show-row-lines":!0,"row-alternation-enabled":!1,"word-wrap-enabled":!0,"column-auto-width":!0},scopedSlots:t._u([{key:"addButton",fn:function(){return[a("DxButton",{attrs:{icon:"las la-plus",hint:"Add"},on:{click:function(e){t.isShow=1}}})]},proxy:!0},{key:"action-cell-template",fn:function(e){var o=e.data;return[a("div",{staticClass:"action-wrapper"},[a("div",{on:{click:function(){return[t.isShow=2,t.selectedId=o.data.id]}}},[a("img",{staticClass:"penSvg",attrs:{src:"/img/svg/pen-svg.svg"}})]),a("div",{on:{click:function(e){return t.DELETE_RECORD(o)}}},[a("img",{staticClass:"trashSvg",attrs:{src:"/img/svg/trash-svg.svg"}})])])]}}],null,!1,887651896)},[a("DxEditing",{attrs:{"allow-updating":!1,"allow-deleting":!1,"allow-adding":!1,"use-icons":!0,mode:"popup"}}),a("DxFilterRow",{attrs:{visible:!0}}),a("DxHeaderFilter",{attrs:{visible:!0}}),a("DxSelection",{attrs:{mode:"single"}}),a("DxColumn",{attrs:{"data-field":"record_date",caption:"Record Date",width:100,alignment:"center",dataType:"date",format:"dd MMM yyyy"}}),a("DxColumn",{attrs:{"data-field":"metal_loss",caption:"Metal Loss (mm)",width:100,alignment:"center"}}),a("DxColumn",{attrs:{"data-field":"corrosion_rate",caption:"Corrosion Rate (mm/y)",width:100,alignment:"center"}}),a("DxColumn",{attrs:{"data-field":"comments",caption:"Comments","min-width":120,alignment:"center"}}),a("DxColumn",{attrs:{width:80,alignment:"center","cell-template":"action-cell-template"}}),a("DxToolbar",[a("DxItem",{attrs:{location:"after",template:"addButton"}}),a("DxItem",{attrs:{location:"after",name:"searchPanel"}})],1),a("DxScrolling",{attrs:{mode:"standard"}}),a("DxSearchPanel",{attrs:{visible:!0}}),a("DxPaging",{attrs:{"page-size":5,"page-index":0}}),a("DxPager",{attrs:{"show-page-size-selector":!0,"allowed-page-sizes":[5,10,25],"show-navigation-buttons":!0,"show-info":!1,"info-text":"Page {0} of {1} ({2} items)"}}),a("DxExport",{attrs:{enabled:!1}})],1)],1):t._e()])])]),1===t.isShow?a("AddProbe",{on:{popup:function(e){t.isShow=0}}}):t._e(),2===t.isShow?a("EditProbe",{on:{popup:function(e){t.isShow=0}}}):t._e()],1)},b=[],A=a(23772),y=(a(94009),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"page-container"},[a("div",{staticClass:"page-section"},[a("div",{staticClass:"table-wrapper"},[a("h3",{staticStyle:{"grid-column":"span 2","margin-bottom":"0","margin-top":"0"}},[t._v("New Result")]),a("div",{staticClass:"input-wrapper"},[a("span",[t._v("Record Date")]),a("div",{staticClass:"input"},[a("DxSelectBox",{attrs:{items:t.formSelect.status,"value-expr":"id","display-expr":"status",placeholder:"Select Record Date"},model:{value:t.mocList.id_moc_status,callback:function(e){t.$set(t.mocList,"id_moc_status",e)},expression:"mocList.id_moc_status"}})],1)]),a("div",{staticClass:"input-wrapper"},[a("span",[t._v("Metal Loss (mm)")]),a("div",{staticClass:"input"},[a("DxTextBox",{attrs:{placeholder:"Enter Metal Loss"},model:{value:t.mocList.worksite,callback:function(e){t.$set(t.mocList,"worksite",e)},expression:"mocList.worksite"}})],1)]),a("div",{staticClass:"input-wrapper"},[a("span",[t._v("Corrosion Rate (mm/y)")]),a("div",{staticClass:"input"},[a("DxTextBox",{attrs:{placeholder:"Enter Corrosion Rate"},model:{value:t.mocList.worksite,callback:function(e){t.$set(t.mocList,"worksite",e)},expression:"mocList.worksite"}})],1)]),a("div",{staticClass:"input-wrapper"},[a("span",[t._v("Comments")]),a("div",{staticClass:"input"},[a("DxTextBox",{attrs:{placeholder:"Enter Comments"},model:{value:t.mocList.worksite,callback:function(e){t.$set(t.mocList,"worksite",e)},expression:"mocList.worksite"}})],1)]),a("button",{staticClass:"create",on:{click:t.CREATE_RECORD}},[t._v("Create")]),a("button",{on:{click:function(e){return t.$emit("popup")}}},[t._v("Cancel")])])])])}),P=[],B=a(10100),M=a.n(B);const I={name:"inspection-record",components:{DxSelectBox:M(),DxTextBox:g()},created:function(){this.$store.commit("UPDATE_CURRENT_PAGENAME",{subpageName:"CORROSION COUPON",subpageInnerName:null}),this.FETCH_DROPDOWN_NOC(),this.FETCH_DROPDOWN_RRL(),this.FETCH_DROPDOWN_STATUS()},data:function(){return{mocList:{id:0,is_active:!0,moc_number:null,title:null,id_moc_noc:null,worksite:null,id_moc_rrl:null,start_date:null,expiry_date:null,id_moc_status:null,action:null,remark:null,initiator:null},formSelect:{noc:[],status:[],rrl:[]}}},computed:{},methods:{EXPORT_DATA:function(t){var e=new m.Workbook,a=e.addWorksheet("Projects");(0,_.V)({worksheet:a,component:t.component}).then((function(){e.xlsx.writeBuffer().then((function(t){h()(new Blob([t],{type:"application/octet-stream"}),"inspection_record.xlsx")}))})),t.cancel=!0},CREATE_RECORD:function(){var t=this;console.log("pdf",this.mocList.moc_file_path),null!==this.mocList.start_date&&(this.mocList.start_date=u()(this.mocList.start_date).format("L")),null!==this.mocList.expiry_date&&(this.mocList.expiry_date=u()(this.mocList.expiry_date).format("L")),(0,r.p)({method:"post",url:"/ManagementOfChange",headers:{Authorization:"Bearer "+JSON.parse(localStorage.getItem("token"))},data:this.mocList}).then((function(e){201==e.status&&t.SET_CURRENT_VIEW(0)}))["catch"]((function(e){t.$ons.notification.alert(e.code+" "+e.response.status+" "+e.message)}))["finally"]((function(){}))},FETCH_DROPDOWN_NOC:function(){var t=this;(0,r.p)({method:"get",url:"/Md/get-md-moc-noc-list",headers:{Authorization:"Bearer "+JSON.parse(localStorage.getItem("token"))},data:{}}).then((function(e){200==e.status&&e.data&&(t.formSelect.noc=e.data)}))["catch"]((function(t){console.log(t)}))["finally"]((function(){t.isLoading=!1}))},FETCH_DROPDOWN_STATUS:function(){var t=this;(0,r.p)({method:"get",url:"/Md/get-md-moc-status-list",headers:{Authorization:"Bearer "+JSON.parse(localStorage.getItem("token"))},data:{}}).then((function(e){200==e.status&&e.data&&(t.formSelect.status=e.data)}))["catch"]((function(t){console.log(t)}))["finally"]((function(){t.isLoading=!1}))},FETCH_DROPDOWN_RRL:function(){var t=this;(0,r.p)({method:"get",url:"/Md/get-md-moc-rrl-list",headers:{Authorization:"Bearer "+JSON.parse(localStorage.getItem("token"))},data:{}}).then((function(e){200==e.status&&e.data&&(t.formSelect.rrl=e.data)}))["catch"]((function(t){console.log(t)}))["finally"]((function(){t.isLoading=!1}))},SET_CURRENT_VIEW:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.$store.commit("SET_SHOW_BACK_BUTTON",!0),null!==e?this.$emit("currentView",t,e):this.$emit("currentView",t)}}},$=I;var H=(0,w.A)($,y,P,!1,null,"be0d7414",null);const W=H.exports;var F=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"page-container"},[a("div",{staticClass:"page-section"},[a("div",{staticClass:"table-wrapper"},[a("div",{staticClass:"input-wrapper",attrs:{"span-3":""}},[a("span",[t._v("Record Date")]),a("div",{staticClass:"input"},[a("DxSelectBox",{attrs:{items:t.formSelect.status,"value-expr":"id","display-expr":"status",placeholder:"Select Record Date"},model:{value:t.mocList.id_moc_status,callback:function(e){t.$set(t.mocList,"id_moc_status",e)},expression:"mocList.id_moc_status"}})],1)]),a("div",{staticClass:"input-wrapper",attrs:{"span-3":""}},[a("span",[t._v("Metal Loss (mm)")]),a("div",{staticClass:"input"},[a("DxTextBox",{attrs:{placeholder:"Enter Metal Loss"},model:{value:t.mocList.worksite,callback:function(e){t.$set(t.mocList,"worksite",e)},expression:"mocList.worksite"}})],1)]),a("div",{staticClass:"input-wrapper",attrs:{"span-3":""}},[a("span",[t._v("Corrosion Rate (mm/y)")]),a("div",{staticClass:"input"},[a("DxTextBox",{attrs:{placeholder:"Enter Corrosion Rate"},model:{value:t.mocList.worksite,callback:function(e){t.$set(t.mocList,"worksite",e)},expression:"mocList.worksite"}})],1)]),a("div",{staticClass:"input-wrapper",attrs:{"span-3":""}},[a("span",[t._v("Comments")]),a("div",{staticClass:"input"},[a("DxTextBox",{attrs:{placeholder:"Enter Comments"},model:{value:t.mocList.worksite,callback:function(e){t.$set(t.mocList,"worksite",e)},expression:"mocList.worksite"}})],1)]),a("button",{staticClass:"create",attrs:{"span-3":""}},[t._v("Update")]),a("button",{attrs:{"span-3":""},on:{click:function(e){return t.$emit("popup")}}},[t._v("Cancel")])])])])},U=[],V=a(84874);const z={name:"inspection-record",props:{id_record:Number,moc_no:String},components:{DxSelectBox:M(),DxTextBox:g(),DxDateBox:D(),DxCheckBox:V.DxCheckBox},created:function(){this.$store.commit("UPDATE_CURRENT_PAGENAME",{subpageName:"MOC Number: "+this.moc_no,subpageInnerName:null}),1==this.$store.state.status.server&&(this.FETCH_DROPDOWN_NOC(),this.FETCH_DROPDOWN_RRL(),this.FETCH_DROPDOWN_STATUS(),this.FETCH_MOC_RECORD())},data:function(){return{mocList:{},btn_state:!1,formSelect:{noc:[],status:[],rrl:[]},activities:{wa:!1,mb:!1,rci:!1,cc:!1,erp:!1}}},computed:{},methods:{FETCH_MOC_RECORD:function(){var t=this;this.isLoading=!0,(0,r.p)({method:"get",url:"/ManagementOfChange/"+this.id_record,headers:{Authorization:"Bearer "+JSON.parse(localStorage.getItem("token"))}}).then((function(e){200==e.status&&e.data&&(t.mocList=e.data)}))["catch"]((function(t){console.log(t)}))["finally"]((function(){t.isLoading=!1}))},UPDATE_RECORD:function(){var t=this;null!==this.mocList.start_date&&(this.mocList.start_date=u()(this.mocList.start_date).format("L")),null!==this.mocList.expiry_date&&(this.mocList.expiry_date=u()(this.mocList.expiry_date).format("L")),(0,r.p)({method:"put",url:"/ManagementOfChange/"+this.mocList.id,headers:{Authorization:"Bearer "+JSON.parse(localStorage.getItem("token"))},data:this.mocList}).then((function(e){204==e.status&&t.SET_CURRENT_VIEW(0)}))["catch"]((function(e){t.$ons.notification.alert(e.code+" "+e.response.status+" "+e.message)}))["finally"]((function(){}))},DELETE_RECORD:function(){var t=this;(0,r.p)({method:"delete",url:"/ManagementOfChange/delete-management-of-change?id="+this.mocList.id,headers:{Authorization:"Bearer "+JSON.parse(localStorage.getItem("token"))}}).then((function(e){204==e.status&&t.SET_CURRENT_VIEW(0)}))["catch"]((function(e){t.$ons.notification.alert(e.code+" "+e.response.status+" "+e.message)}))["finally"]((function(){}))},FETCH_DROPDOWN_NOC:function(){var t=this;(0,r.p)({method:"get",url:"/Md/get-md-moc-noc-list",headers:{Authorization:"Bearer "+JSON.parse(localStorage.getItem("token"))},data:{}}).then((function(e){200==e.status&&e.data&&(t.formSelect.noc=e.data)}))["catch"]((function(t){console.log(t)}))["finally"]((function(){t.isLoading=!1}))},FETCH_DROPDOWN_STATUS:function(){var t=this;(0,r.p)({method:"get",url:"/Md/get-md-moc-status-list",headers:{Authorization:"Bearer "+JSON.parse(localStorage.getItem("token"))},data:{}}).then((function(e){200==e.status&&e.data&&(t.formSelect.status=e.data)}))["catch"]((function(t){console.log(t)}))["finally"]((function(){t.isLoading=!1}))},FETCH_DROPDOWN_RRL:function(){var t=this;(0,r.p)({method:"get",url:"/Md/get-md-moc-rrl-list",headers:{Authorization:"Bearer "+JSON.parse(localStorage.getItem("token"))},data:{}}).then((function(e){200==e.status&&e.data&&(t.formSelect.rrl=e.data)}))["catch"]((function(t){console.log(t)}))["finally"]((function(){t.isLoading=!1}))},SET_CURRENT_VIEW:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.$store.commit("SET_SHOW_BACK_BUTTON",!0),null!==e?this.$emit("currentView",t,e):this.$emit("currentView",t)}}},J=z;var G=(0,w.A)(J,F,U,!1,null,"2facabf3",null);const K=G.exports;var j=a(70296),X=a.n(j),q=a(83954);const Q={name:"inspection-record",props:{id_record:Number,moc_no:String},components:{DxDataGrid:x.DxDataGrid,DxSearchPanel:x.DxSearchPanel,DxPaging:x.DxPaging,DxPager:x.DxPager,DxColumn:x.DxColumn,DxToolbar:x.DxToolbar,DxItem:q.DxItem,DxEditing:x.DxEditing,DxButton:X(),DxSelectBox:M(),DxTextBox:g(),DxDateBox:D(),AddProbe:W,EditProbe:K},created:function(){var t;(this.$store.commit("UPDATE_CURRENT_PAGENAME",{subpageName:"MOC Number: "+this.moc_no,subpageInnerName:null}),1==this.$store.state.status.server)&&(this.chartOptions=(t={credits:{enabled:!1},title:{text:"Trending Results Chart",align:"center"},xAxis:{categories:["2020 H1","2020 H2","2021 H1","2021 H2","2022 H1","2022 H2","2023 H1","2023 H2"]},yAxis:{title:{text:this.active_tab}}},(0,A.A)(t,"credits",{enabled:!1}),(0,A.A)(t,"series",[{name:"Trend",data:[12.3,9.5,4,18.4,6,3,111,9.5]}]),t))},data:function(){return{monitoringRecord:[{id:1,record_date:"2 May 2022",metal_loss:"0.0064",corrosion_rate:"0.0002",comments:"Low corrosion rate"},{id:2,record_date:"25 Apr 2021",metal_loss:"0.0054",corrosion_rate:"0.0001",comments:"Low corrosion rate"},{id:3,record_date:"25 Mar 2020",metal_loss:"0.0068",corrosion_rate:"0.0003",comments:"Low corrosion rate"}],chartOptions:{},tabs:["Summary Dashboard","Probe Record","Library"],active_tab:"Summary Dashboard",isShow:0}},computed:{},methods:{SET_IS_SHOW:function(t){t&&(this.isShow=t)},FETCH_MOC_RECORD:function(){var t=this;this.isLoading=!0,(0,r.p)({method:"get",url:"/ManagementOfChange/"+this.id_record,headers:{Authorization:"Bearer "+JSON.parse(localStorage.getItem("token"))}}).then((function(e){200==e.status&&e.data&&(t.mocList=e.data)}))["catch"]((function(t){console.log(t)}))["finally"]((function(){t.isLoading=!1}))},UPDATE_RECORD:function(){var t=this;null!==this.mocList.start_date&&(this.mocList.start_date=u()(this.mocList.start_date).format("L")),null!==this.mocList.expiry_date&&(this.mocList.expiry_date=u()(this.mocList.expiry_date).format("L")),(0,r.p)({method:"put",url:"/ManagementOfChange/"+this.mocList.id,headers:{Authorization:"Bearer "+JSON.parse(localStorage.getItem("token"))},data:this.mocList}).then((function(e){204==e.status&&t.SET_CURRENT_VIEW(0)}))["catch"]((function(e){t.$ons.notification.alert(e.code+" "+e.response.status+" "+e.message)}))["finally"]((function(){}))},DELETE_RECORD:function(){var t=this;(0,r.p)({method:"delete",url:"/ManagementOfChange/delete-management-of-change?id="+this.mocList.id,headers:{Authorization:"Bearer "+JSON.parse(localStorage.getItem("token"))}}).then((function(e){204==e.status&&t.SET_CURRENT_VIEW(0)}))["catch"]((function(e){t.$ons.notification.alert(e.code+" "+e.response.status+" "+e.message)}))["finally"]((function(){}))},FETCH_DROPDOWN_NOC:function(){var t=this;(0,r.p)({method:"get",url:"/Md/get-md-moc-noc-list",headers:{Authorization:"Bearer "+JSON.parse(localStorage.getItem("token"))},data:{}}).then((function(e){200==e.status&&e.data&&(t.formSelect.noc=e.data)}))["catch"]((function(t){console.log(t)}))["finally"]((function(){t.isLoading=!1}))},FETCH_DROPDOWN_STATUS:function(){var t=this;(0,r.p)({method:"get",url:"/Md/get-md-moc-status-list",headers:{Authorization:"Bearer "+JSON.parse(localStorage.getItem("token"))},data:{}}).then((function(e){200==e.status&&e.data&&(t.formSelect.status=e.data)}))["catch"]((function(t){console.log(t)}))["finally"]((function(){t.isLoading=!1}))},FETCH_DROPDOWN_RRL:function(){var t=this;(0,r.p)({method:"get",url:"/Md/get-md-moc-rrl-list",headers:{Authorization:"Bearer "+JSON.parse(localStorage.getItem("token"))},data:{}}).then((function(e){200==e.status&&e.data&&(t.formSelect.rrl=e.data)}))["catch"]((function(t){console.log(t)}))["finally"]((function(){t.isLoading=!1}))},SET_CURRENT_VIEW:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.$store.commit("SET_SHOW_BACK_BUTTON",!0),null!==e?this.$emit("currentView",t,e):this.$emit("currentView",t)}}},Y=Q;var Z=(0,w.A)(Y,k,b,!1,null,"2734857a",null);const tt=Z.exports,et={name:"inspection-record",components:{ViewFR:N,AddFR:S,EditFR:tt},created:function(){this.$store.commit("UPDATE_CURRENT_PAGENAME",{subpageName:"MANAGEMENT OF CHANGE",subpageInnerName:null})},data:function(){return{current_view:0,edit_row:0,moc_no:null}},computed:{},methods:{SET_EDIT:function(t,e,a){console.log("moc",a),this.current_view=t,this.edit_row=e,this.moc_no=a}}},at=et;var ot=(0,w.A)(at,o,i,!1,null,"2b09a5dc",null);const it=ot.exports}}]);
//# sourceMappingURL=2246.288a2f9f.js.map