"use strict";(self["webpackChunkSPRC_NDERMS"]=self["webpackChunkSPRC_NDERMS"]||[]).push([[5956],{85956:(t,e,i)=>{i.r(e),i.d(e,{default:()=>Z});var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[0==t.current_view?i("ViewFR",{on:{currentView:function(e,i,a){return t.SET_EDIT(e,i,a)}}}):t._e(),1==t.current_view?i("AddFR",{on:{currentView:function(e){return t.current_view=e}}}):t._e(),2==t.current_view?i("EditFR",{attrs:{id_record:t.edit_row,moc_no:t.moc_no},on:{currentView:function(e){return t.current_view=e}}}):t._e()],1)},o=[],n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"page-container"},[i("div",{staticClass:"page-section"},[i("DxDataGrid",{ref:t.gridRefName,attrs:{id:"data-grid-list","data-source":t.tagRegistrationList,"hover-state-enabled":!0,"allow-column-reordering":!0,"show-borders":!0,"show-row-lines":!0,"row-alternation-enabled":!1,"column-hiding-enabled":!1,"word-wrap-enabled":!0,"column-auto-width":!0},scopedSlots:t._u([{key:"action-cell-template",fn:function(e){var a=e.data;return[i("div",{staticClass:"action-wrapper"},[i("div",{on:{click:function(){return[t.isShow=2,t.selectedId=a.data.id]}}},[i("img",{staticClass:"penSvg",attrs:{src:"/img/svg/magnifying-glass-svg.svg"}})])])]}},{key:"addButton",fn:function(){return[i("DxButton",{attrs:{icon:"las la-plus",hint:"Add"},on:{click:t.ADD_ROW}})]},proxy:!0},{key:"filterSelect",fn:function(){return[i("DxSelectBox",{attrs:{items:t.yearList,"value-expr":"id","display-expr":"year",placeholder:"Filter Year"}})]},proxy:!0}])},[i("DxEditing",{attrs:{"allow-updating":!1,"allow-deleting":!1,"allow-adding":!1,"use-icons":!0,mode:"form"}}),i("DxFilterRow",{attrs:{visible:!0}}),i("DxHeaderFilter",{attrs:{visible:!0}}),i("DxColumn",{attrs:{"data-field":"id_platform",caption:"Platform",alignment:"center",width:100,"editor-options":t.platformNoInputOptions}},[i("DxRequiredRule")],1),i("DxColumn",{attrs:{"data-field":"tag_no",caption:"Tag No.",alignment:"center"}},[i("DxRequiredRule")],1),i("DxColumn",{attrs:{"data-field":"temp",caption:"Temp",alignment:"center",width:100,"editor-options":t.ExpDateInputOptions}},[i("DxRequiredRule")],1),i("DxColumn",{attrs:{"data-field":"description",caption:"Description",alignment:"center","editor-options":t.tagNoInputOptions,"min-width":150}},[i("DxRequiredRule")],1),i("DxColumn",{attrs:{"data-field":"ir",caption:"Injection Rate ml/MMscf",alignment:"center",width:150,"editor-options":t.GPIDateInputOptions}},[i("DxRequiredRule")],1),i("DxColumn",{attrs:{"data-field":"jan",caption:"Jan",alignment:"center",width:80,"editor-options":t.ExpDateInputOptions}},[i("DxRequiredRule")],1),i("DxColumn",{attrs:{"data-field":"feb",caption:"Feb",alignment:"center",width:80,"editor-options":t.ExpDateInputOptions}},[i("DxRequiredRule")],1),i("DxColumn",{attrs:{"data-field":"mar",caption:"Mar",alignment:"center",width:80,"editor-options":t.ExpDateInputOptions}},[i("DxRequiredRule")],1),i("DxColumn",{attrs:{"data-field":"apr",caption:"Apr",alignment:"center",width:80,"editor-options":t.ExpDateInputOptions}},[i("DxRequiredRule")],1),i("DxColumn",{attrs:{"data-field":"may",caption:"May",alignment:"center",width:80,"editor-options":t.ExpDateInputOptions}},[i("DxRequiredRule")],1),i("DxColumn",{attrs:{"data-field":"jun",caption:"Jun",alignment:"center",width:80,"editor-options":t.ExpDateInputOptions}},[i("DxRequiredRule")],1),i("DxColumn",{attrs:{"data-field":"jul",caption:"Jul",alignment:"center",width:80,"editor-options":t.ExpDateInputOptions}},[i("DxRequiredRule")],1),i("DxColumn",{attrs:{"data-field":"aug",caption:"Aug",alignment:"center",width:80,"editor-options":t.ExpDateInputOptions}},[i("DxRequiredRule")],1),i("DxColumn",{attrs:{"data-field":"sep",caption:"Sep",alignment:"center",width:80,"editor-options":t.ExpDateInputOptions}},[i("DxRequiredRule")],1),i("DxColumn",{attrs:{"data-field":"oct",caption:"Oct",alignment:"center",width:80,"editor-options":t.ExpDateInputOptions}},[i("DxRequiredRule")],1),i("DxColumn",{attrs:{"data-field":"nov",caption:"Nov",alignment:"center",width:80,"editor-options":t.ExpDateInputOptions}},[i("DxRequiredRule")],1),i("DxColumn",{attrs:{"data-field":"dec",caption:"Dec",alignment:"center",width:80,"editor-options":t.ExpDateInputOptions}},[i("DxRequiredRule")],1),i("DxColumn",{attrs:{width:50,alignment:"center","cell-template":"action-cell-template"}}),i("DxToolbar",[i("DxItem",{attrs:{location:"after",template:"filterSelect"}}),i("DxItem",{attrs:{location:"after",name:"searchPanel"}})],1),i("DxScrolling",{attrs:{mode:"standard"}}),i("DxSearchPanel",{attrs:{visible:!0}}),i("DxPaging",{attrs:{"page-size":10,"page-index":0}}),i("DxPager",{attrs:{"show-page-size-selector":!0,"allowed-page-sizes":[5,10,20],"show-navigation-buttons":!0,"show-info":!0,"info-text":"Page {0} of {1} ({2} items)"}}),i("DxExport",{attrs:{enabled:!1}})],1)],1)]),1===t.isShow?i("AddTagRegistration",{on:{popup:t.FETCH_MOC_RECORD}}):t._e(),2===t.isShow?i("EditTagRegistration",{attrs:{id_record:t.selectedId},on:{popup:t.FETCH_MOC_RECORD}}):t._e()],1)},r=[],s=(i(5086),i(17),i(88704)),c=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"page-container"},[i("div",{staticClass:"page-section"},[i("div",{staticClass:"table-wrapper"},[i("h3",{staticStyle:{"grid-column":"span 2","margin-bottom":"0","margin-top":"0"}},[t._v("New Tag Number")]),i("div",{staticClass:"input-wrapper"},[i("span",[t._v("Platform")]),i("div",{staticClass:"input"},[i("DxSelectBox",{attrs:{items:t.formSelect.status,"value-expr":"id","display-expr":"status",placeholder:"Select Platform"},model:{value:t.mocList.id_moc_status,callback:function(e){t.$set(t.mocList,"id_moc_status",e)},expression:"mocList.id_moc_status"}})],1)]),i("div",{staticClass:"input-wrapper"},[i("span",[t._v("Tag Number")]),i("div",{staticClass:"input"},[i("DxTextBox",{attrs:{placeholder:"Enter Tag Number"},model:{value:t.mocList.worksite,callback:function(e){t.$set(t.mocList,"worksite",e)},expression:"mocList.worksite"}})],1)]),i("div",{staticClass:"input-wrapper",attrs:{fill:""}},[i("span",[t._v("Description")]),i("div",{staticClass:"input"},[i("DxTextBox",{attrs:{placeholder:"Enter Description"},model:{value:t.mocList.worksite,callback:function(e){t.$set(t.mocList,"worksite",e)},expression:"mocList.worksite"}})],1)]),i("h5",{staticStyle:{"grid-column":"span 2","margin-bottom":"0","margin-top":"0"}},[t._v("Activities")]),i("div",{staticClass:"input-wrapper"},[i("div",{staticClass:"checkbox-wrapper"},[i("DxCheckBox",{model:{value:t.activities.wa,callback:function(e){t.$set(t.activities,"wa",e)},expression:"activities.wa"}}),i("span",[t._v("Water Analysis")])],1),i("div",{staticClass:"input"},[i("DxTextBox",{attrs:{placeholder:"Enter Water Analysis Description",disabled:!t.activities.wa},model:{value:t.mocList.worksite,callback:function(e){t.$set(t.mocList,"worksite",e)},expression:"mocList.worksite"}})],1)]),i("div",{staticClass:"input-wrapper"},[i("div",{staticClass:"checkbox-wrapper"},[i("DxCheckBox",{model:{value:t.activities.mb,callback:function(e){t.$set(t.activities,"mb",e)},expression:"activities.mb"}}),i("span",[t._v("Microbilogical Bacteria")])],1),i("div",{staticClass:"input"},[i("DxTextBox",{attrs:{placeholder:"Enter Microbilogical Bacteria Description",disabled:!t.activities.mb},model:{value:t.mocList.worksite,callback:function(e){t.$set(t.mocList,"worksite",e)},expression:"mocList.worksite"}})],1)]),i("div",{staticClass:"input-wrapper"},[i("div",{staticClass:"checkbox-wrapper"},[i("DxCheckBox",{model:{value:t.activities.rci,callback:function(e){t.$set(t.activities,"rci",e)},expression:"activities.rci"}}),i("span",[t._v("Residual Corrosion Inhibitor")])],1),i("div",{staticClass:"input"},[i("DxTextBox",{attrs:{placeholder:"Enter Residual Corrosion Inhibitor Description",disabled:!t.activities.rci},model:{value:t.mocList.worksite,callback:function(e){t.$set(t.mocList,"worksite",e)},expression:"mocList.worksite"}})],1)]),i("div",{staticClass:"input-wrapper"},[i("div",{staticClass:"checkbox-wrapper"},[i("DxCheckBox",{model:{value:t.activities.cc,callback:function(e){t.$set(t.activities,"cc",e)},expression:"activities.cc"}}),i("span",[t._v("Corrosion Coupon")])],1),i("div",{staticClass:"input"},[i("DxTextBox",{attrs:{placeholder:"Enter Corrosion Coupon Description",disabled:!t.activities.cc},model:{value:t.mocList.worksite,callback:function(e){t.$set(t.mocList,"worksite",e)},expression:"mocList.worksite"}})],1)]),i("div",{staticClass:"input-wrapper"},[i("div",{staticClass:"checkbox-wrapper"},[i("DxCheckBox",{model:{value:t.activities.erp,callback:function(e){t.$set(t.activities,"erp",e)},expression:"activities.erp"}}),i("span",[t._v("ER Probe")])],1),i("div",{staticClass:"input"},[i("DxTextBox",{attrs:{placeholder:"Enter ER Probe Description",disabled:!t.activities.erp},model:{value:t.mocList.worksite,callback:function(e){t.$set(t.mocList,"worksite",e)},expression:"mocList.worksite"}})],1)]),i("div"),i("button",{staticClass:"create",on:{click:t.CREATE_RECORD}},[t._v("Create")]),i("button",{on:{click:function(e){return t.$emit("popup")}}},[t._v("Cancel")])])])])},l=[],d=i(49148),u=i.n(d),p=i(47093),m=i(10788),h=i.n(m),x=i(16164),f=i(10100),g=i.n(f),D=i(57723),_=i.n(D),C=i(84874),v=i(63869);const R={name:"inspection-record",components:{DxSelectBox:g(),DxTextBox:_(),DxCheckBox:C.DxCheckBox},created:function(){this.$store.commit("UPDATE_CURRENT_PAGENAME",{subpageName:"RESIDUAL CORROSION INHIBITOR",subpageInnerName:null}),this.FETCH_DROPDOWN_NOC(),this.FETCH_DROPDOWN_RRL(),this.FETCH_DROPDOWN_STATUS()},data:function(){return{mocList:{id:0,is_active:!0,moc_number:null,title:null,id_moc_noc:null,worksite:null,id_moc_rrl:null,start_date:null,expiry_date:null,id_moc_status:null,action:null,remark:null,initiator:null},formSelect:{noc:[],status:[],rrl:[]},activities:{wa:!1,mb:!1,rci:!1,cc:!1,erp:!1}}},computed:{},methods:{EXPORT_DATA:function(t){var e=new p.Workbook,i=e.addWorksheet("Projects");(0,x.V)({worksheet:i,component:t.component}).then((function(){e.xlsx.writeBuffer().then((function(t){h()(new Blob([t],{type:"application/octet-stream"}),"inspection_record.xlsx")}))})),t.cancel=!0},CREATE_RECORD:function(){var t=this;console.log("pdf",this.mocList.moc_file_path),null!==this.mocList.start_date&&(this.mocList.start_date=u()(this.mocList.start_date).format("L")),null!==this.mocList.expiry_date&&(this.mocList.expiry_date=u()(this.mocList.expiry_date).format("L")),(0,s.p)({method:"post",url:"/ManagementOfChange",headers:{Authorization:"Bearer "+JSON.parse(localStorage.getItem("token"))},data:this.mocList}).then((function(e){201==e.status&&t.SET_CURRENT_VIEW(0)}))["catch"]((function(e){t.$ons.notification.alert(e.code+" "+e.response.status+" "+e.message)}))["finally"]((function(){}))},FETCH_DROPDOWN_NOC:function(){var t=this;(0,s.p)({method:"get",url:"/Md/get-md-moc-noc-list",headers:{Authorization:"Bearer "+JSON.parse(localStorage.getItem("token"))},data:{}}).then((function(e){200==e.status&&e.data&&(t.formSelect.noc=e.data)}))["catch"]((function(t){console.log(t)}))["finally"]((function(){t.isLoading=!1}))},FETCH_DROPDOWN_STATUS:function(){var t=this;(0,s.p)({method:"get",url:"/Md/get-md-moc-status-list",headers:{Authorization:"Bearer "+JSON.parse(localStorage.getItem("token"))},data:{}}).then((function(e){200==e.status&&e.data&&(t.formSelect.status=e.data)}))["catch"]((function(t){console.log(t)}))["finally"]((function(){t.isLoading=!1}))},FETCH_DROPDOWN_RRL:function(){var t=this;(0,s.p)({method:"get",url:"/Md/get-md-moc-rrl-list",headers:{Authorization:"Bearer "+JSON.parse(localStorage.getItem("token"))},data:{}}).then((function(e){200==e.status&&e.data&&(t.formSelect.rrl=e.data)}))["catch"]((function(t){console.log(t)}))["finally"]((function(){t.isLoading=!1}))},SET_CURRENT_VIEW:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.$store.commit("SET_SHOW_BACK_BUTTON",!0),null!==e?this.$emit("currentView",t,e):this.$emit("currentView",t)}}},w=R;var E=i(81656),T=(0,E.A)(w,c,l,!1,null,"68f27f58",null);const O=T.exports;var b=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"page-container"},[i("div",{staticClass:"page-section"},[i("div",{staticClass:"table-wrapper"},[i("h3",{staticStyle:{"margin-bottom":"0","margin-top":"0"},attrs:{fill:""}},[t._v("Tag Number: MDC-Inlet")]),i("div",{staticClass:"table-chart",attrs:{fill:""}},[i("div",[i("DxDataGrid",{attrs:{id:"data-grid-list-rci","key-expr":"id","element-attr":t.dataGridAttributes,"data-source":t.atpList,selection:{mode:"single"},"hover-state-enabled":!0,"allow-column-reordering":!0,"show-borders":!0,"show-row-lines":!0,"row-alternation-enabled":!1,"word-wrap-enabled":!0,"column-auto-width":!0},on:{"cell-prepared":t.onCellPrepared},scopedSlots:t._u([{key:"addButton",fn:function(){return[i("DxButton",{attrs:{icon:"las la-plus",hint:"Add"}})]},proxy:!0},{key:"filterSelect",fn:function(){return[i("DxSelectBox",{attrs:{items:t.yearList,"value-expr":"id","display-expr":"year",placeholder:"Filter Year"}})]},proxy:!0}])},[i("DxEditing",{attrs:{"allow-updating":!0,"allow-deleting":!0,"allow-adding":!1,"use-icons":!0,mode:"row"}}),i("DxColumn",{attrs:{"data-field":"year",caption:"Year",width:100,alignment:"center"}}),i("DxColumn",{attrs:{"data-field":"month",caption:"Month",width:100,alignment:"center"}}),i("DxColumn",{attrs:{"data-field":"rci",caption:"R-CI ppm",width:100,alignment:"center"}}),i("DxToolbar",[i("DxItem",{attrs:{location:"after",template:"filterSelect"}}),i("DxItem",{attrs:{location:"after",template:"addButton"}})],1)],1)],1),i("div",{staticClass:"chart-container"},[i("highcharts",{attrs:{options:t.chartOptions}})],1)]),i("button",{attrs:{fill:""},on:{click:function(e){return t.$emit("popup")}}},[t._v("Close")])])])])},S=[],L=i(23772),k=(i(94009),i(17768)),N=i.n(k),y=i(83954),A=i(70296),I=i.n(A),B=i(64115),P=i.n(B),$=i(90233),M=i.n($),F=i(75129),H=i(90362),U=i.n(H);P()(U()),M()(U());const W={name:"inspection-record",props:{id_record:Number,moc_no:String},components:{DxDataGrid:v.DxDataGrid,DxColumn:v.DxColumn,DxToolbar:v.DxToolbar,DxItem:y.DxItem,DxEditing:v.DxEditing,DxButton:I(),DxSelectBox:g(),DxTextBox:_(),DxDateBox:N(),DxCheckBox:C.DxCheckBox,highcharts:F.Chart},created:function(){if(this.$store.commit("UPDATE_CURRENT_PAGENAME",{subpageName:"MOC Number: "+this.moc_no,subpageInnerName:null}),1==this.$store.state.status.server){for(var t,e=[],i=0;i<11;i++)e.push({id:i,year:2020+i});this.yearList=e,this.chartOptions=(t={credits:{enabled:!1},title:{text:"Trending Results Chart",align:"center"},xAxis:{categories:["2020 H1","2020 H2","2021 H1","2021 H2","2022 H1","2022 H2","2023 H1","2023 H2"]},yAxis:{title:{text:this.active_tab}}},(0,L.A)(t,"credits",{enabled:!1}),(0,L.A)(t,"series",[{name:"Trend",data:[12.3,9.5,4,18.4,6,3,111,9.5]}]),t)}},data:function(){return{mocList:{},atpList:[{id:1,year:2023,month:"Dec",temp:"102",rci:"56"},{id:2,year:2023,month:"Nov",temp:"60",rci:"26.22"},{id:3,year:2023,month:"Oct",temp:"34",rci:"3.21"},{id:4,year:2023,month:"Sep",temp:"22",rci:"7.12"},{id:5,year:2023,month:"Aug",temp:"45",rci:"10.23"}],formSelect:{},yearList:[],chartOptions:{},dataGridAttributes:{class:"data-grid"},cellColors:{green:"#34eb74",yellow:"#FFDB58",red:"#eb4034"}}},computed:{},methods:{FETCH_MOC_RECORD:function(){var t=this;this.isLoading=!0,(0,s.p)({method:"get",url:"/ManagementOfChange/"+this.id_record,headers:{Authorization:"Bearer "+JSON.parse(localStorage.getItem("token"))}}).then((function(e){200==e.status&&e.data&&(t.mocList=e.data)}))["catch"]((function(t){console.log(t)}))["finally"]((function(){t.isLoading=!1}))},UPDATE_RECORD:function(){var t=this;null!==this.mocList.start_date&&(this.mocList.start_date=u()(this.mocList.start_date).format("L")),null!==this.mocList.expiry_date&&(this.mocList.expiry_date=u()(this.mocList.expiry_date).format("L")),(0,s.p)({method:"put",url:"/ManagementOfChange/"+this.mocList.id,headers:{Authorization:"Bearer "+JSON.parse(localStorage.getItem("token"))},data:this.mocList}).then((function(e){204==e.status&&t.SET_CURRENT_VIEW(0)}))["catch"]((function(e){t.$ons.notification.alert(e.code+" "+e.response.status+" "+e.message)}))["finally"]((function(){}))},DELETE_RECORD:function(){var t=this;(0,s.p)({method:"delete",url:"/ManagementOfChange/delete-management-of-change?id="+this.mocList.id,headers:{Authorization:"Bearer "+JSON.parse(localStorage.getItem("token"))}}).then((function(e){204==e.status&&t.SET_CURRENT_VIEW(0)}))["catch"]((function(e){t.$ons.notification.alert(e.code+" "+e.response.status+" "+e.message)}))["finally"]((function(){}))},FETCH_DROPDOWN_NOC:function(){var t=this;(0,s.p)({method:"get",url:"/Md/get-md-moc-noc-list",headers:{Authorization:"Bearer "+JSON.parse(localStorage.getItem("token"))},data:{}}).then((function(e){200==e.status&&e.data&&(t.formSelect.noc=e.data)}))["catch"]((function(t){console.log(t)}))["finally"]((function(){t.isLoading=!1}))},FETCH_DROPDOWN_STATUS:function(){var t=this;(0,s.p)({method:"get",url:"/Md/get-md-moc-status-list",headers:{Authorization:"Bearer "+JSON.parse(localStorage.getItem("token"))},data:{}}).then((function(e){200==e.status&&e.data&&(t.formSelect.status=e.data)}))["catch"]((function(t){console.log(t)}))["finally"]((function(){t.isLoading=!1}))},FETCH_DROPDOWN_RRL:function(){var t=this;(0,s.p)({method:"get",url:"/Md/get-md-moc-rrl-list",headers:{Authorization:"Bearer "+JSON.parse(localStorage.getItem("token"))},data:{}}).then((function(e){200==e.status&&e.data&&(t.formSelect.rrl=e.data)}))["catch"]((function(t){console.log(t)}))["finally"]((function(){t.isLoading=!1}))},GET_STATUS_CELL_COLOR:function(t){if("data"===t.rowType&&"rci"===t.column.dataField&&t.data.rci&&t.data.temp){var e=Number(t.data.rci),i=Number(t.data.temp);if(e<=30&&i<=50||e>=100&&i>50)return this.cellColors.green;if(e>=25&&e<30)return this.cellColors.yellow;if(e<25&&i<=50||e<100&&i>100)return this.cellColors.red}},onCellPrepared:function(t){"data"===t.rowType&&"rci"===t.column.dataField&&(t.cellElement.style.backgroundColor=this.GET_STATUS_CELL_COLOR(t),t.cellElement.style.textTransform="uppercase")},SET_CURRENT_VIEW:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.$store.commit("SET_SHOW_BACK_BUTTON",!0),null!==e?this.$emit("currentView",t,e):this.$emit("currentView",t)}}},V=W;var q=(0,E.A)(V,b,S,!1,null,"9faace3a",null);const G=q.exports,z={name:"inspection-record",components:{DxDataGrid:v.DxDataGrid,DxSearchPanel:v.DxSearchPanel,DxPaging:v.DxPaging,DxPager:v.DxPager,DxScrolling:v.DxScrolling,DxColumn:v.DxColumn,DxExport:v.DxExport,DxToolbar:v.DxToolbar,DxItem:y.DxItem,DxEditing:v.DxEditing,DxRequiredRule:v.DxRequiredRule,DxFilterRow:v.DxFilterRow,DxHeaderFilter:v.DxHeaderFilter,DxButton:I(),DxSelectBox:g(),AddTagRegistration:O,EditTagRegistration:G},created:function(){if(this.$store.commit("UPDATE_CURRENT_PAGENAME",{subpageName:"RESIDUAL CORROSION INHIBITOR",subpageInnerName:null}),1==this.$store.state.status.server){for(var t=[],e=0;e<11;e++)t.push({id:e,year:2020+e});this.yearList=t,this.tagRegistrationList=[{id:1,id_platform:"MDC",tag_no:"MDC-CC-04201",temp:45,description:"-",ir:500,jan:77.85,feb:77.85,mar:77.85,apr:77.85,may:77.85,jun:77.85,jul:77.85,aug:77.85,sep:77.85,oct:77.85,nov:77.85,dec:77.85},{id:2,id_platform:"MDDC",tag_no:"MDDC-CC-07301",temp:65,description:"-",ir:500,jan:65,feb:65,mar:65,apr:65,may:65,jun:65,jul:65,aug:65,sep:65,oct:65,nov:65,dec:65}]}},data:function(){return{tagRegistrationList:[],isShow:0,selectedId:null,gridRefName:"grid",yearList:[]}},computed:{baseURL:function(){var t=this.$store.state.mode;return"dev"==t?this.$store.state.modeURL.dev:"prod"==t?this.$store.state.modeURL.prod:console.log("develpment mode set up incorrect.")}},methods:{EXPORT_DATA:function(t){var e=new p.Workbook,i=e.addWorksheet("Projects");(0,x.V)({worksheet:i,component:t.component}).then((function(){e.xlsx.writeBuffer().then((function(t){h()(new Blob([t],{type:"application/octet-stream"}),"inspection_record.xlsx")}))})),t.cancel=!0},FETCH_MOC_RECORD:function(){var t=this;this.isLoading=!0,this.isShow=0,(0,s.p)({method:"get",url:"/ManagementOfChange",headers:{Authorization:"Bearer "+JSON.parse(localStorage.getItem("token"))}}).then((function(e){console.log("insp record:"),console.log(e),200==e.status&&e.data&&(t.mocList=e.data)}))["catch"]((function(t){console.log(t)}))["finally"]((function(){t.isLoading=!1}))},DELETE_RECORD:function(t){var e=this;(0,s.p)({method:"delete",url:"/ManagementOfChange/delete-management-of-change?id="+t.key,headers:{Authorization:"Bearer "+JSON.parse(localStorage.getItem("token"))}}).then((function(t){204==t.status&&(console.log("delete success"),e.FETCH_MOC_RECORD())}))["catch"]((function(t){e.$ons.notification.alert(t.code+" "+t.response.status+" "+t.message)}))["finally"]((function(){}))},GET_STATUS_CELL_COLOR:function(t){if("data"===t.rowType&&"id_moc_status"===t.column.dataField){if(t.data.id_moc_status){var e=this.status.filter((function(e){return e.id===t.data.id_moc_status}));return console.log(e),e[0].color_code}return"#fff"}},SET_CURRENT_VIEW:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this.$store.commit("SET_SHOW_BACK_BUTTON",!1),null!==e&&null===i?this.$emit("currentView",t,e):null!==e&&null!==i?this.$emit("currentView",t,e,i):this.$emit("currentView",t)},ADD_ROW:function(){this.isShow=1}}},J=z;var j=(0,E.A)(J,n,r,!1,null,"f0645196",null);const K=j.exports,Y={name:"inspection-record",components:{ViewFR:K,AddFR:O,EditFR:G},created:function(){this.$store.commit("UPDATE_CURRENT_PAGENAME",{subpageName:"MANAGEMENT OF CHANGE",subpageInnerName:null})},data:function(){return{current_view:0,edit_row:0,moc_no:null}},computed:{},methods:{SET_EDIT:function(t,e,i){console.log("moc",i),this.current_view=t,this.edit_row=e,this.moc_no=i}}},X=Y;var Q=(0,E.A)(X,a,o,!1,null,"c9858672",null);const Z=Q.exports}}]);
//# sourceMappingURL=5956.3cbfa190.js.map