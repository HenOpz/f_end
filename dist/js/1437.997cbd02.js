"use strict";(self["webpackChunkSPRC_NDERMS"]=self["webpackChunkSPRC_NDERMS"]||[]).push([[1437],{51437:(a,e,t)=>{t.r(e),t.d(e,{default:()=>y});var n=function(){var a=this,e=a.$createElement,t=a._self._c||e;return t("div",{staticClass:"page-container"},[t("div",{staticClass:"page-section"},[t("div",{staticClass:"table-wrapper"},[t("h4",{staticStyle:{margin:"5px 0 15px"}},[a._v("High Risk Equipment Inspection & High Risk Anomaly Status")]),t("DxDataGrid",{attrs:{id:"data-grid-list","key-expr":"fieldData.id","data-source":a.anomalyList,selection:{mode:"single"},"hover-state-enabled":!0,"allow-column-reordering":!0,"show-borders":!0,"show-row-lines":!0,"row-alternation-enabled":!1,"word-wrap-enabled":!0,"column-auto-width":!0},on:{"row-updated":a.ON_UPDATE},scopedSlots:a._u([{key:"circle-cell-template",fn:function(e){var n=e.data;return[t("div",{staticClass:"circle",style:{backgroundColor:a.GET_STATUS_CELL_COLOR(n)}})]}}])},[t("DxEditing",{attrs:{"allow-updating":!0,"allow-deleting":!1,"allow-adding":!1,"use-icons":!0,mode:"row"}}),t("DxFilterRow",{attrs:{visible:!1}}),t("DxHeaderFilter",{attrs:{visible:!1}}),t("DxSelection",{attrs:{mode:"single"}}),t("DxColumn",{attrs:{"data-field":"fieldData.module_name",caption:"Module",width:150,alignment:"left","allow-editing":!1,"css-class":"module-name"}}),t("DxColumn",{attrs:{"data-field":"fieldData.inspection_plan_status",cellTemplate:"circle-cell-template",caption:"Inspection Status",width:150,alignment:"center","allow-editing":!1}}),t("DxColumn",{attrs:{"data-field":"fieldData.anomaly_management_status",cellTemplate:"circle-cell-template",caption:"Anomaly Repair",width:150,alignment:"center","allow-editing":!1}}),t("DxColumn",{attrs:{"data-field":"fieldData.remark",caption:"Note","min-width":300,alignment:"left"}}),t("DxScrolling",{attrs:{mode:"standard"}}),t("DxSearchPanel",{attrs:{visible:!1}}),t("DxPaging",{attrs:{"page-size":10,"page-index":0}}),t("DxPager",{attrs:{"show-page-size-selector":!0,"allowed-page-sizes":[10,20,30],"show-navigation-buttons":!0,"show-info":!1,"info-text":"Page {0} of {1} ({2} items)"}}),t("DxExport",{attrs:{enabled:!1}})],1),t("div",{staticClass:"circle-wrapper"},a._l(a.statusList,(function(e,n){return t("div",{key:n,staticClass:"circle-row"},[t("div",{staticClass:"circle",style:{backgroundColor:a.GET_STATUS_COLOR(e)}}),t("span",[a._v(a._s(e))])])})),0)],1),t("div",{staticClass:"page-chart"},[t("h4",{staticStyle:{margin:"5px 0"}},[a._v("Management of Very High Risk Equipment & Very High Risk Anomaly")]),t("div",{staticClass:"grid-chart"},a._l(a.chartOptions,(function(a){return t("div",{key:a.id},[t("Chart",{staticStyle:{"grid-column":"span 1"},attrs:{dataChart:a}})],1)})),0)])])])},o=[],s=(t(30959),function(){var a=this,e=a.$createElement,t=a._self._c||e;return t("div",{staticClass:"page-chart"},[t("div",{staticClass:"chart-title"},[a._v(" "+a._s(a.dataChart.name)+" ")]),t("div",{staticClass:"chart"},[t("highcharts",{attrs:{options:a.chartOption}})],1),t("div",{staticClass:"note"},[a._v(" "+a._s(a.dataChart.note)+" ")])])}),i=[],r=t(64115),d=t.n(r),l=t(90233),c=t.n(l),u=t(75129),p=t(90362),_=t.n(p);d()(_()),c()(_());const h={name:"inspection-record",props:{dataChart:Object},components:{highcharts:u.Chart},created:function(){this.$store.commit("UPDATE_CURRENT_PAGENAME",{subpageName:"CM WO MANAGEMENT",subpageInnerName:null})},data:function(){return{chartOption:{chart:{plotBackgroundColor:null,plotBorderWidth:null,plotShadow:!1,type:"pie"},credits:{enabled:!1},title:{text:"",align:"left"},tooltip:{headerFormat:"<b>{point.key}</b><br>",pointFormat:"{series.name}: <b>{point.percentage:.2f}%</b><br>Total: <b>{point.y}</b>"},accessibility:{point:{valueSuffix:"%"}},plotOptions:{pie:{allowPointSelect:!0,cursor:"pointer",borderRadius:5,size:"80%",dataLabels:{enabled:!1},showInLegend:!0}},colors:["#43A047","#FFFF00","#C00000"],series:[{name:"Percent",colorByPoint:!0,data:[{name:"not due",y:this.dataChart.ondue},{name:"on due",y:this.dataChart.overdue},{name:"Overdue",y:this.dataChart.notdue}]}]}}},computed:{},methods:{}},D=h;var m=t(81656),f=(0,m.A)(D,s,i,!1,null,"7ee992a8",null);const g=f.exports;var v=t(88704),C=t(63869);const E={name:"executive-summary",components:{DxDataGrid:C.DxDataGrid,DxSearchPanel:C.DxSearchPanel,DxPaging:C.DxPaging,DxPager:C.DxPager,DxScrolling:C.DxScrolling,DxColumn:C.DxColumn,DxExport:C.DxExport,DxHeaderFilter:C.DxHeaderFilter,DxSelection:C.DxSelection,DxEditing:C.DxEditing,DxFilterRow:C.DxFilterRow,Chart:g},created:function(){this.$store.commit("UPDATE_CURRENT_PAGENAME",{subpageName:"EXECUTIVE SUMMARY",subpageInnerName:null}),1==this.$store.state.status.server&&(this.FETCH_FILE_MAKER_RECORD(),this.FETCH_CHART(),this.statusList=["Not due","On due","Overdue"])},data:function(){return{statusList:null,anomalyList:{},dataGridAttributes:{class:"data-grid-style"},chartData:{},chartOptions:[]}},computed:{},methods:{GENERATE_SESSION:function(a,e){var t=this;(0,v.b)({method:"POST",url:"/CPOC_AIMS/sessions",headers:{"Content-Type":"application/json",Authorization:"Basic dmlzaXRvcjpBaW1zMjAyMg=="},data:{}}).then((function(n){localStorage.setItem("cpoc_aims_token",JSON.stringify(n.data.response.token)),"fetch_file"==a?t.FETCH_FILE_MAKER_RECORD():"on_update"==a?t.ON_UPDATE(e):"fetch_chart"==a&&t.FETCH_CHART()}))["catch"]((function(a){console.log("api",a)}))},FETCH_FILE_MAKER_RECORD:function(){var a=this;(0,v.b)({method:"GET",url:"/CPOC_AIMS/layouts/executive_summary_table/records?_limit=10",headers:{"Content-Type":"application/json",Authorization:"Bearer "+JSON.parse(localStorage.getItem("cpoc_aims_token"))}}).then((function(e){a.anomalyList=e.data.response.data,console.log("executive_summary_table",a.anomalyList)}))["catch"]((function(e){console.log("api",e),a.GENERATE_SESSION("fetch_file","")}))},ON_UPDATE:function(a){var e=this;console.log(a);var t=a.data.fieldData.id+"||"+a.data.fieldData.remark;console.log("param",t),(0,v.b)({method:"GET",url:"/CPOC_AIMS/layouts/executive_summary_table/script/api_update_executive_remark?script.param="+t,headers:{"Content-Type":"application/json",Authorization:"Bearer "+JSON.parse(localStorage.getItem("cpoc_aims_token"))}}).then((function(a){console.log(a),e.FETCH_FILE_MAKER_RECORD()}))["catch"]((function(a){console.log("api",a)}))},FETCH_CHART:function(){var a=this;(0,v.b)({method:"GET",url:"/CPOC_AIMS/layouts/executive_summary_chart/records?_limit=1",headers:{"Content-Type":"application/json",Authorization:"Bearer "+JSON.parse(localStorage.getItem("cpoc_aims_token"))}}).then((function(e){console.log("FETCH_CHART",e),a.chartData=e.data,a.chartOptions=[{id:"chart1",name:"Piping Inspection Plan",ondue:a.chartData.response.data[0].fieldData.piping_insp_not_due,overdue:a.chartData.response.data[0].fieldData.piping_insp_on_due,notdue:a.chartData.response.data[0].fieldData.piping_insp_overdue,note:"-"},{id:"chart2",name:"Piping Anomaly Management",ondue:a.chartData.response.data[0].fieldData.piping_anom_not_due,overdue:a.chartData.response.data[0].fieldData.piping_anom_on_due,notdue:a.chartData.response.data[0].fieldData.piping_anom_overdue,note:a.chartData.response.data[0].fieldData.piping_anom_note},{id:"chart3",name:"Pressure Vessel Inspection Plan",ondue:a.chartData.response.data[0].fieldData.vessel_insp_not_du,overdue:a.chartData.response.data[0].fieldData.vessel_insp_on_due,notdue:a.chartData.response.data[0].fieldData.vessel_insp_overdue,note:"-"},{id:"chart4",name:"Pressure Vessel Anomaly Management",ondue:a.chartData.response.data[0].fieldData.vessel_anom_not_due,overdue:a.chartData.response.data[0].fieldData.vessel_anom_on_due,notdue:a.chartData.response.data[0].fieldData.vessel_anom_overdue,note:a.chartData.response.data[0].fieldData.vessel_anom_note},{id:"chart5",name:"Flowline Inspection Plan",ondue:a.chartData.response.data[0].fieldData.flowline_insp_not_due,overdue:a.chartData.response.data[0].fieldData.flowline_insp_on_due,notdue:a.chartData.response.data[0].fieldData.flowline_insp_overdue,note:a.chartData.response.data[0].fieldData.flowline_inspection_plan_note},{id:"chart6",name:"Flowline Anomaly Management",ondue:a.chartData.response.data[0].fieldData.flowline_anom_not_due,overdue:a.chartData.response.data[0].fieldData.flowline_anom_on_due,notdue:a.chartData.response.data[0].fieldData.flowline_anom_overdue,note:a.chartData.response.data[0].fieldData.flowline_anom_note},{id:"chart7",name:"Pipeline Inspection Plan",ondue:a.chartData.response.data[0].fieldData.pipeline_insp_not_due,overdue:a.chartData.response.data[0].fieldData.pipeline_insp_on_due,notdue:a.chartData.response.data[0].fieldData.pipeline_insp_overdue,note:a.chartData.response.data[0].fieldData.pipeline_inspection_plan_note},{id:"chart8",name:"Pipeline Anomaly Management",ondue:a.chartData.response.data[0].fieldData.pipeline_anom_not_due,overdue:a.chartData.response.data[0].fieldData.pipeline_anom_on_due,notdue:a.chartData.response.data[0].fieldData.pipeline_anom_overdue,note:a.chartData.response.data[0].fieldData.pipeline_anom_note},{id:"chart9",name:"Topside Riser Inspection Plan",ondue:a.chartData.response.data[0].fieldData.topside_riser_insp_not_due,overdue:a.chartData.response.data[0].fieldData.topside_riser_insp_on_due,notdue:a.chartData.response.data[0].fieldData.topside_riser_insp_overdue,note:a.chartData.response.data[0].fieldData.topside_riser_inspection_plan_note},{id:"chart10",name:"Topside Riser Anomaly Management",ondue:a.chartData.response.data[0].fieldData.topside_riser_anom_not_due,overdue:a.chartData.response.data[0].fieldData.topside_riser_anom_on_due,notdue:a.chartData.response.data[0].fieldData.topside_riser_anom_overdue,note:a.chartData.response.data[0].fieldData.topside_riser_anom_note},{id:"chart11",name:"Subsea Riser Inspection Plan",ondue:a.chartData.response.data[0].fieldData.subsea_riser_insp_not_due,overdue:a.chartData.response.data[0].fieldData.subsea_riser_insp_on_due,notdue:a.chartData.response.data[0].fieldData.subsea_riser_insp_overdue,note:a.chartData.response.data[0].fieldData.subsea_riser_inspection_plan_note},{id:"chart12",name:"Subsea Riser Anomaly Management",ondue:a.chartData.response.data[0].fieldData.subsea_riser_anom_not_due,overdue:a.chartData.response.data[0].fieldData.subsea_riser_anom_on_due,notdue:a.chartData.response.data[0].fieldData.subsea_riser_anom_overdue,note:a.chartData.response.data[0].fieldData.subsea_riser_anom_note},{id:"chart13",name:"Structure Inspection Plan",ondue:a.chartData.response.data[0].fieldData.structure_insp_not_due,overdue:a.chartData.response.data[0].fieldData.structure_insp_on_due,notdue:a.chartData.response.data[0].fieldData.structure_insp_overdue,note:a.chartData.response.data[0].fieldData.structure_inspection_plan_note},{id:"chart14",name:"Structure Anomaly Management",ondue:a.chartData.response.data[0].fieldData.structure_anom_not_due,overdue:a.chartData.response.data[0].fieldData.structure_anom_on_due,notdue:a.chartData.response.data[0].fieldData.structure_anom_overdue,note:a.chartData.response.data[0].fieldData.structure_anom_note}]}))["catch"]((function(e){console.log("api",e),a.GENERATE_SESSION("fetch_chart","")}))},GET_STATUS_CELL_COLOR:function(a){if("data"===a.rowType&&"fieldData.inspection_plan_status"===a.column.dataField)switch(a.data.fieldData.inspection_plan_status){case"overdue":return"#C00000";case"not due":return"#43A047";case"on due":return"#FFFF00";default:return"#000"}else if("data"===a.rowType&&"fieldData.anomaly_management_status"===a.column.dataField)switch(a.data.fieldData.anomaly_management_status){case"overdue":return"#C00000";case"not due":return"#43A047";case"on due":return"#FFFF00";default:return"#000"}},GET_STATUS_COLOR:function(a){var e=a.toLowerCase();switch(e){case"overdue":return"#C00000";case"not due":return"#43A047";case"on due":return"#FFFF00";default:return"#000"}}}},S=E;var x=(0,m.A)(S,n,o,!1,null,"63a71712",null);const y=x.exports}}]);
//# sourceMappingURL=1437.997cbd02.js.map