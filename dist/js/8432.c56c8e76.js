"use strict";(self["webpackChunkSPRC_NDERMS"]=self["webpackChunkSPRC_NDERMS"]||[]).push([[8432],{98432:(t,e,i)=>{i.r(e),i.d(e,{default:()=>z});var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[0==t.current_view?i("ViewFR",{on:{currentView:function(e,i,a){return t.SET_EDIT(e,i,a)}}}):t._e(),1==t.current_view?i("AddFR",{on:{currentView:function(e){return t.current_view=e}}}):t._e(),2==t.current_view?i("EditFR",{attrs:{id_record:t.edit_row,moc_no:t.moc_no},on:{currentView:function(e){return t.current_view=e}}}):t._e()],1)},s=[],o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"page-container"},[i("div",{staticClass:"page-section"},[i("DxDataGrid",{ref:t.gridRefName,attrs:{id:"data-grid-list","data-source":t.tagRegistrationList,"hover-state-enabled":!0,"allow-column-reordering":!0,"show-borders":!0,"show-row-lines":!0,"row-alternation-enabled":!1,"column-hiding-enabled":!1,"word-wrap-enabled":!0,"column-min-width":100,"column-auto-width":!0},scopedSlots:t._u([{key:"action-cell-template",fn:function(e){var a=e.data;return[i("div",{staticClass:"action-wrapper"},[i("div",{on:{click:function(){return[t.isShow=2,t.selectedId=a.data.id]}}},[i("img",{staticClass:"penSvg",attrs:{src:"/img/svg/pen-svg.svg"}})]),i("div",{on:{click:function(e){return t.DELETE_RECORD(a)}}},[i("img",{staticClass:"trashSvg",attrs:{src:"/img/svg/trash-svg.svg"}})])])]}},{key:"addButton",fn:function(){return[i("DxButton",{attrs:{icon:"las la-plus",hint:"Add"},on:{click:t.ADD_ROW}})]},proxy:!0}])},[i("DxEditing",{attrs:{"allow-updating":!1,"allow-deleting":!1,"allow-adding":!1,"use-icons":!0,mode:"form"}}),i("DxFilterRow",{attrs:{visible:!0}}),i("DxHeaderFilter",{attrs:{visible:!0}}),i("DxColumn",{attrs:{"data-field":"id_platform",caption:"Platform",alignment:"center",width:50}}),i("DxColumn",{attrs:{"data-field":"tag_no",caption:"Tag No.",alignment:"center"}}),i("DxColumn",{attrs:{"data-field":"description",caption:"Description",alignment:"left","min-width":150}}),i("DxColumn",{attrs:{"data-field":"po",caption:"Pigging Operation",alignment:"center",width:120,visible:t.isPipeline}}),i("DxColumn",{attrs:{"data-field":"wa",caption:"Water Analysis",alignment:"center",width:120}}),i("DxColumn",{attrs:{"data-field":"mb",caption:"Microbilogical Bacteria",alignment:"center",width:120}}),i("DxColumn",{attrs:{"data-field":"cc",caption:" Corrosion Coupon",alignment:"center",width:120}}),i("DxColumn",{attrs:{"data-field":"erp",caption:"ER Probe",alignment:"center",width:120}}),i("DxColumn",{attrs:{"data-field":"rci",caption:"Residual Corrosion Inhibitor",alignment:"center",width:120,visible:t.isPipeline}}),i("DxColumn",{attrs:{width:80,alignment:"center","cell-template":"action-cell-template"}}),i("DxToolbar",[i("DxItem",{attrs:{location:"after",template:"addButton"}}),i("DxItem",{attrs:{location:"after",name:"searchPanel"}})],1),i("DxScrolling",{attrs:{mode:"standard"}}),i("DxSearchPanel",{attrs:{visible:!0}}),i("DxPaging",{attrs:{"page-size":10,"page-index":0}}),i("DxPager",{attrs:{"show-page-size-selector":!0,"allowed-page-sizes":[5,10,20],"show-navigation-buttons":!0,"show-info":!0,"info-text":"Page {0} of {1} ({2} items)"}}),i("DxExport",{attrs:{enabled:!1}})],1)],1)]),1===t.isShow?i("AddTagRegistration",{attrs:{system:t.system},on:{popup:t.FETCH_TAG}}):t._e(),2===t.isShow?i("EditTagRegistration",{attrs:{system:t.system,id_record:t.selectedId},on:{popup:t.FETCH_TAG}}):t._e()],1)},r=[],n=(i(87136),i(58649),function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"page-container"},[i("div",{staticClass:"page-section"},[i("div",{staticClass:"table-wrapper"},[i("h3",{staticStyle:{"grid-column":"span 2","margin-bottom":"0","margin-top":"0"}},[t._v("New Tag Number")]),i("div",{staticClass:"input-wrapper"},[i("span",[t._v("Platform")]),i("div",{staticClass:"input"},[i("DxSelectBox",{attrs:{items:t.formSelect.platform,"value-expr":"id","display-expr":"code_name",placeholder:"Select Platform"},model:{value:t.registration.id_platform,callback:function(e){t.$set(t.registration,"id_platform",e)},expression:"registration.id_platform"}})],1)]),i("div",{staticClass:"input-wrapper"},[i("span",[t._v("Tag Number")]),i("div",{staticClass:"input"},[i("DxTextBox",{attrs:{placeholder:"Enter Tag Number"},model:{value:t.registration.tag_no,callback:function(e){t.$set(t.registration,"tag_no",e)},expression:"registration.tag_no"}})],1)]),i("div",{staticClass:"input-wrapper",attrs:{fill:""}},[i("span",[t._v("Description")]),i("div",{staticClass:"input"},[i("DxTextBox",{attrs:{placeholder:"Enter Description"},model:{value:t.registration.desc,callback:function(e){t.$set(t.registration,"desc",e)},expression:"registration.desc"}})],1)]),i("h5",{staticStyle:{"grid-column":"span 2","margin-bottom":"0","margin-top":"0"}},[t._v("Activities")]),"pipeline"==t.system?i("div",{staticClass:"input-wrapper"},[i("div",{staticClass:"checkbox-wrapper"},[i("DxCheckBox",{model:{value:t.registration.po,callback:function(e){t.$set(t.registration,"po",e)},expression:"registration.po"}}),i("span",[t._v("Pigging Operation")])],1),i("div",{staticClass:"input"},[i("DxTextBox",{attrs:{placeholder:"Enter Pigging Operation Description",disabled:!t.registration.po},model:{value:t.registration.po_desc,callback:function(e){t.$set(t.registration,"po_desc",e)},expression:"registration.po_desc"}})],1)]):t._e(),i("div",{staticClass:"input-wrapper"},[i("div",{staticClass:"checkbox-wrapper"},[i("DxCheckBox",{model:{value:t.registration.wa,callback:function(e){t.$set(t.registration,"wa",e)},expression:"registration.wa"}}),i("span",[t._v("Water Analysis")])],1),i("div",{staticClass:"input"},[i("DxTextBox",{attrs:{placeholder:"Enter Water Analysis Description",disabled:!t.registration.wa},model:{value:t.registration.wa_desc,callback:function(e){t.$set(t.registration,"wa_desc",e)},expression:"registration.wa_desc"}})],1)]),i("div",{staticClass:"input-wrapper"},[i("div",{staticClass:"checkbox-wrapper"},[i("DxCheckBox",{model:{value:t.registration.mb,callback:function(e){t.$set(t.registration,"mb",e)},expression:"registration.mb"}}),i("span",[t._v("Microbilogical Bacteria")])],1),i("div",{staticClass:"input"},[i("DxTextBox",{attrs:{placeholder:"Enter Microbilogical Bacteria Description",disabled:!t.registration.mb},model:{value:t.registration.mb.desc,callback:function(e){t.$set(t.registration.mb,"desc",e)},expression:"registration.mb.desc"}})],1)]),i("div",{staticClass:"input-wrapper"},[i("div",{staticClass:"checkbox-wrapper"},[i("DxCheckBox",{model:{value:t.registration.cc,callback:function(e){t.$set(t.registration,"cc",e)},expression:"registration.cc"}}),i("span",[t._v("Corrosion Coupon")])],1),i("div",{staticClass:"input"},[i("DxTextBox",{attrs:{placeholder:"Enter Corrosion Coupon Description",disabled:!t.registration.cc},model:{value:t.registration.cc_desc,callback:function(e){t.$set(t.registration,"cc_desc",e)},expression:"registration.cc_desc"}})],1)]),i("div",{staticClass:"input-wrapper"},[i("div",{staticClass:"checkbox-wrapper"},[i("DxCheckBox",{model:{value:t.registration.erp,callback:function(e){t.$set(t.registration,"erp",e)},expression:"registration.erp"}}),i("span",[t._v("ER Probe")])],1),i("div",{staticClass:"input"},[i("DxTextBox",{attrs:{placeholder:"Enter ER Probe Description",disabled:!t.registration.erp},model:{value:t.registration.erp_desc,callback:function(e){t.$set(t.registration,"erp_desc",e)},expression:"registration.erp_desc"}})],1)]),"pipeline"==t.system?i("div",{staticClass:"input-wrapper"},[i("div",{staticClass:"checkbox-wrapper"},[i("DxCheckBox",{model:{value:t.registration.rci,callback:function(e){t.$set(t.registration,"rci",e)},expression:"registration.rci"}}),i("span",[t._v("Residual Corrosion Inhibitor")])],1),i("div",{staticClass:"input"},[i("DxTextBox",{attrs:{placeholder:"Enter Residual Corrosion Inhibitor Description",disabled:!t.registration.rci},model:{value:t.registration.rci_desc,callback:function(e){t.$set(t.registration,"rci_desc",e)},expression:"registration.rci_desc"}})],1)]):t._e(),i("button",{staticClass:"create",on:{click:t.CREATE_RECORD}},[t._v("Create")]),i("button",{on:{click:function(e){return t.$emit("popup")}}},[t._v("Cancel")])])])])}),c=[],l=(i(5086),i(88704)),d=i(10100),p=i.n(d),u=i(57723),m=i.n(u),g=i(84874);const x={name:"inspection-record",components:{DxSelectBox:p(),DxTextBox:m(),DxCheckBox:g.DxCheckBox},created:function(){this.$store.commit("UPDATE_CURRENT_PAGENAME",{subpageName:"TAG REGISTRATION",subpageInnerName:null}),1==this.$store.state.status.server&&(console.log(this.system),this.FETCH_DROPDOWN_PLATFORM())},data:function(){return{formSelect:{platform:[]},registration:{id:0,id_platform:null,tag_no:null,desc:null,wa:!1,mb:!1,rci:!1,cc:!1,erp:!1,po:!1,wa_desc:null,mb_desc:null,rci_desc:null,cc_desc:null,erp_desc:null,po_desc:null}}},props:{system:String},computed:{},methods:{CREATE_RECORD:function(){},FETCH_DROPDOWN_PLATFORM:function(){var t=this;(0,l.p)({method:"get",url:"/Md/get-md-platform-list",headers:{Authorization:"Bearer "+JSON.parse(localStorage.getItem("token"))},data:{}}).then((function(e){200==e.status&&e.data&&(t.formSelect.platform=e.data)}))["catch"]((function(t){console.log(t)}))["finally"]((function(){t.isLoading=!1}))}}},h=x;var v=i(81656),_=(0,v.A)(h,n,c,!1,null,"307c3337",null);const f=_.exports;var C=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"page-container"},[i("div",{staticClass:"page-section"},[i("div",{staticClass:"table-wrapper"},[i("div",{staticClass:"input-wrapper",attrs:{"span-3":""}},[i("span",[t._v("Platform")]),i("div",{staticClass:"input"},[i("DxSelectBox",{attrs:{items:t.formSelect.status,"value-expr":"id","display-expr":"status",placeholder:"Select Platform"},model:{value:t.mocList.id_moc_status,callback:function(e){t.$set(t.mocList,"id_moc_status",e)},expression:"mocList.id_moc_status"}})],1)]),i("div",{staticClass:"input-wrapper",attrs:{"span-3":""}},[i("span",[t._v("Tag Number")]),i("div",{staticClass:"input"},[i("DxTextBox",{attrs:{placeholder:"Enter Tag Number"},model:{value:t.mocList.worksite,callback:function(e){t.$set(t.mocList,"worksite",e)},expression:"mocList.worksite"}})],1)]),i("div",{staticClass:"input-wrapper",attrs:{fill:""}},[i("span",[t._v("Description")]),i("div",{staticClass:"input"},[i("DxTextBox",{attrs:{placeholder:"Enter Description"},model:{value:t.mocList.worksite,callback:function(e){t.$set(t.mocList,"worksite",e)},expression:"mocList.worksite"}})],1)]),i("h5",{staticStyle:{"grid-column":"span 6","margin-bottom":"0","margin-top":"0"}},[t._v("Activities")]),i("div",{staticClass:"input-wrapper",attrs:{"span-3":""}},[i("div",{staticClass:"checkbox-wrapper"},[i("DxCheckBox",{model:{value:t.activities.wa,callback:function(e){t.$set(t.activities,"wa",e)},expression:"activities.wa"}}),i("span",[t._v("Water Analysis")])],1),i("div",{staticClass:"input"},[i("DxTextBox",{attrs:{placeholder:"Enter Water Analysis Description",disabled:!t.activities.wa},model:{value:t.mocList.worksite,callback:function(e){t.$set(t.mocList,"worksite",e)},expression:"mocList.worksite"}})],1)]),i("div",{staticClass:"input-wrapper",attrs:{"span-3":""}},[i("div",{staticClass:"checkbox-wrapper"},[i("DxCheckBox",{model:{value:t.activities.mb,callback:function(e){t.$set(t.activities,"mb",e)},expression:"activities.mb"}}),i("span",[t._v("Microbilogical Bacteria")])],1),i("div",{staticClass:"input"},[i("DxTextBox",{attrs:{placeholder:"Enter Microbilogical Bacteria Description",disabled:!t.activities.mb},model:{value:t.mocList.worksite,callback:function(e){t.$set(t.mocList,"worksite",e)},expression:"mocList.worksite"}})],1)]),i("div",{staticClass:"input-wrapper",attrs:{"span-3":""}},[i("div",{staticClass:"checkbox-wrapper"},[i("DxCheckBox",{model:{value:t.activities.rci,callback:function(e){t.$set(t.activities,"rci",e)},expression:"activities.rci"}}),i("span",[t._v("Residual Corrosion Inhibitor")])],1),i("div",{staticClass:"input"},[i("DxTextBox",{attrs:{placeholder:"Enter Residual Corrosion Inhibitor Description",disabled:!t.activities.rci},model:{value:t.mocList.worksite,callback:function(e){t.$set(t.mocList,"worksite",e)},expression:"mocList.worksite"}})],1)]),i("div",{staticClass:"input-wrapper",attrs:{"span-3":""}},[i("div",{staticClass:"checkbox-wrapper"},[i("DxCheckBox",{model:{value:t.activities.cc,callback:function(e){t.$set(t.activities,"cc",e)},expression:"activities.cc"}}),i("span",[t._v("Corrosion Coupon")])],1),i("div",{staticClass:"input"},[i("DxTextBox",{attrs:{placeholder:"Enter Corrosion Coupon Description",disabled:!t.activities.cc},model:{value:t.mocList.worksite,callback:function(e){t.$set(t.mocList,"worksite",e)},expression:"mocList.worksite"}})],1)]),i("div",{staticClass:"input-wrapper",attrs:{"span-3":""}},[i("div",{staticClass:"checkbox-wrapper"},[i("DxCheckBox",{model:{value:t.activities.erp,callback:function(e){t.$set(t.activities,"erp",e)},expression:"activities.erp"}}),i("span",[t._v("ER Probe")])],1),i("div",{staticClass:"input"},[i("DxTextBox",{attrs:{placeholder:"Enter ER Probe Description",disabled:!t.activities.erp},model:{value:t.mocList.worksite,callback:function(e){t.$set(t.mocList,"worksite",e)},expression:"mocList.worksite"}})],1)]),i("div",{attrs:{"span-3":""}}),i("button",{staticClass:"create",attrs:{"span-3":""}},[t._v("Update")]),i("button",{attrs:{"span-3":""},on:{click:function(e){return t.$emit("popup")}}},[t._v("Cancel")])])])])},D=[],b=(i(94009),i(49148)),w=i.n(b),E=i(17768),k=i.n(E),T=i(63869);const R={name:"inspection-record",props:{id_record:Number,moc_no:String},components:{DxSelectBox:p(),DxTextBox:m(),DxDateBox:k(),DxCheckBox:g.DxCheckBox},created:function(){this.$store.commit("UPDATE_CURRENT_PAGENAME",{subpageName:"MOC Number: "+this.moc_no,subpageInnerName:null}),1==this.$store.state.status.server&&(this.FETCH_DROPDOWN_NOC(),this.FETCH_DROPDOWN_RRL(),this.FETCH_DROPDOWN_STATUS(),this.FETCH_MOC_RECORD())},data:function(){return{mocList:{},btn_state:!1,formSelect:{noc:[],status:[],rrl:[]},activities:{wa:!1,mb:!1,rci:!1,cc:!1,erp:!1}}},computed:{},methods:{FETCH_MOC_RECORD:function(){var t=this;this.isLoading=!0,(0,l.p)({method:"get",url:"/ManagementOfChange/"+this.id_record,headers:{Authorization:"Bearer "+JSON.parse(localStorage.getItem("token"))}}).then((function(e){200==e.status&&e.data&&(t.mocList=e.data)}))["catch"]((function(t){console.log(t)}))["finally"]((function(){t.isLoading=!1}))},UPDATE_RECORD:function(){var t=this;null!==this.mocList.start_date&&(this.mocList.start_date=w()(this.mocList.start_date).format("L")),null!==this.mocList.expiry_date&&(this.mocList.expiry_date=w()(this.mocList.expiry_date).format("L")),(0,l.p)({method:"put",url:"/ManagementOfChange/"+this.mocList.id,headers:{Authorization:"Bearer "+JSON.parse(localStorage.getItem("token"))},data:this.mocList}).then((function(e){204==e.status&&t.SET_CURRENT_VIEW(0)}))["catch"]((function(e){t.$ons.notification.alert(e.code+" "+e.response.status+" "+e.message)}))["finally"]((function(){}))},DELETE_RECORD:function(){var t=this;(0,l.p)({method:"delete",url:"/ManagementOfChange/delete-management-of-change?id="+this.mocList.id,headers:{Authorization:"Bearer "+JSON.parse(localStorage.getItem("token"))}}).then((function(e){204==e.status&&t.SET_CURRENT_VIEW(0)}))["catch"]((function(e){t.$ons.notification.alert(e.code+" "+e.response.status+" "+e.message)}))["finally"]((function(){}))},FETCH_DROPDOWN_NOC:function(){var t=this;(0,l.p)({method:"get",url:"/Md/get-md-moc-noc-list",headers:{Authorization:"Bearer "+JSON.parse(localStorage.getItem("token"))},data:{}}).then((function(e){200==e.status&&e.data&&(t.formSelect.noc=e.data)}))["catch"]((function(t){console.log(t)}))["finally"]((function(){t.isLoading=!1}))},FETCH_DROPDOWN_STATUS:function(){var t=this;(0,l.p)({method:"get",url:"/Md/get-md-moc-status-list",headers:{Authorization:"Bearer "+JSON.parse(localStorage.getItem("token"))},data:{}}).then((function(e){200==e.status&&e.data&&(t.formSelect.status=e.data)}))["catch"]((function(t){console.log(t)}))["finally"]((function(){t.isLoading=!1}))},FETCH_DROPDOWN_RRL:function(){var t=this;(0,l.p)({method:"get",url:"/Md/get-md-moc-rrl-list",headers:{Authorization:"Bearer "+JSON.parse(localStorage.getItem("token"))},data:{}}).then((function(e){200==e.status&&e.data&&(t.formSelect.rrl=e.data)}))["catch"]((function(t){console.log(t)}))["finally"]((function(){t.isLoading=!1}))},SET_CURRENT_VIEW:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.$store.commit("SET_SHOW_BACK_BUTTON",!0),null!==e?this.$emit("currentView",t,e):this.$emit("currentView",t)}}},S=R;var A=(0,v.A)(S,C,D,!1,null,"76a3d9b0",null);const B=A.exports;var P=i(47093),L=i(10788),N=i.n(L),O=i(16164),$=i(83954),y=i(70296),I=i.n(y);const M={name:"tag-registration",components:{DxDataGrid:T.DxDataGrid,DxSearchPanel:T.DxSearchPanel,DxPaging:T.DxPaging,DxPager:T.DxPager,DxScrolling:T.DxScrolling,DxColumn:T.DxColumn,DxExport:T.DxExport,DxToolbar:T.DxToolbar,DxItem:$.DxItem,DxEditing:T.DxEditing,DxFilterRow:T.DxFilterRow,DxHeaderFilter:T.DxHeaderFilter,DxButton:I(),AddTagRegistration:f,EditTagRegistration:B},created:function(){this.$store.commit("UPDATE_CURRENT_PAGENAME",{subpageName:"TAG REGISTRATION",subpageInnerName:null}),1==this.$store.state.status.server&&(this.tagRegistrationList=[{id:1,id_platform:"MDC",tag_no:"MDC-CC-04201",description:"-",wa:!0,mb:!0,rci:!0,cc:!1,erp:!1},{id:2,id_platform:"MDF",tag_no:"MDE-CC-07201",description:"-",wa:!1,mb:!1,rci:!0,cc:!0,erp:!1},{id:3,id_platform:"MDPP",tag_no:"MDPP-CP-1210",description:"-",wa:!0,mb:!1,rci:!1,cc:!0,erp:!1}],console.log(this.baseURL),this.FETCH_TAG())},data:function(){return{tagRegistrationList:[],system:null,isShow:0,selectedId:null,gridRefName:"grid",isPipeline:!1}},computed:{baseURL:function(){var t=this.$store.state.mode;return"dev"==t?this.$store.state.modeURL.dev:"prod"==t?this.$store.state.modeURL.prod:console.log("develpment mode set up incorrect.")}},methods:{EXPORT_DATA:function(t){var e=new P.Workbook,i=e.addWorksheet("Projects");(0,O.V)({worksheet:i,component:t.component}).then((function(){e.xlsx.writeBuffer().then((function(t){N()(new Blob([t],{type:"application/octet-stream"}),"inspection_record.xlsx")}))})),t.cancel=!0},FETCH_TAG:function(){this.system=this.$route.fullPath.split("/")[2],this.isPipeline="pipeline"==this.system,this.isShow=0},ADD_ROW:function(){this.isShow=1}}},F=M;var W=(0,v.A)(F,o,r,!1,null,"eea8e12a",null);const U=W.exports,H={name:"inspection-record",components:{ViewFR:U,AddFR:f,EditFR:B},created:function(){this.$store.commit("UPDATE_CURRENT_PAGENAME",{subpageName:"MANAGEMENT OF CHANGE",subpageInnerName:null})},data:function(){return{current_view:0,edit_row:0,moc_no:null}},computed:{},methods:{SET_EDIT:function(t,e,i){console.log("moc",i),this.current_view=t,this.edit_row=e,this.moc_no=i}}},G=H;var V=(0,v.A)(G,a,s,!1,null,"3ce31f3c",null);const z=V.exports}}]);
//# sourceMappingURL=8432.c56c8e76.js.map