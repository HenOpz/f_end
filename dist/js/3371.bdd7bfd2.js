"use strict";(self["webpackChunkSPRC_NDERMS"]=self["webpackChunkSPRC_NDERMS"]||[]).push([[3371],{43371:(t,e,a)=>{a.r(e),a.d(e,{default:()=>Et});var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[0==t.current_view?a("ViewFR",{on:{currentView:function(e,a,i){return t.SET_EDIT(e,a,i)}}}):t._e(),1==t.current_view?a("AddFR",{on:{currentView:function(e){return t.current_view=e}}}):t._e(),2==t.current_view?a("EditFR",{attrs:{id_record:t.edit_row,moc_no:t.moc_no},on:{currentView:function(e){return t.current_view=e}}}):t._e()],1)},o=[],n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"page-container"},[a("div",{staticClass:"page-section"},[a("div",{staticClass:"table-wrapper"},[a("DxDataGrid",{attrs:{id:"data-grid-list","key-expr":"id","data-source":t.mocList,selection:{mode:"single"},"hover-state-enabled":!0,"allow-column-reordering":!0,"show-borders":!0,"show-row-lines":!0,"row-alternation-enabled":!1,"word-wrap-enabled":!0,"column-auto-width":!0},on:{"init-new-row":function(e){return t.SET_CURRENT_VIEW(1)}},scopedSlots:t._u([{key:"action-cell-template",fn:function(e){var i=e.data;return[a("div",{staticClass:"action-wrapper"},[a("div",{on:{click:function(e){return t.SET_CURRENT_VIEW(2,i.data.id)}}},[a("img",{staticClass:"penSvg",attrs:{src:"/img/svg/magnifying-glass-svg.svg"}})]),a("div",{on:{click:function(e){return t.DELETE_RECORD(i)}}},[a("img",{staticClass:"trashSvg",attrs:{src:"/img/svg/trash-svg.svg"}})])])]}},{key:"addButton",fn:function(){return[a("DxButton",{attrs:{icon:"las la-plus",hint:"Add"},on:{click:function(e){t.isShow=1}}})]},proxy:!0}])},[a("DxEditing",{attrs:{"allow-updating":!1,"allow-deleting":!1,"allow-adding":!1,"use-icons":!0,mode:"popup"}}),a("DxFilterRow",{attrs:{visible:!0}}),a("DxHeaderFilter",{attrs:{visible:!0}}),a("DxSelection",{attrs:{mode:"single"}}),a("DxColumn",{attrs:{"data-field":"moc_number",caption:"Item",width:140,alignment:"center"}}),a("DxColumn",{attrs:{"data-field":"title",caption:"Platform",width:200,alignment:"left"}}),a("DxColumn",{attrs:{"data-field":"worksite",caption:"Tag Number",width:120,alignment:"center"}}),a("DxColumn",{attrs:{"data-field":"id_moc_noc",caption:"Description","min-width":120,alignment:"left"}}),a("DxColumn",{attrs:{"data-field":"id_moc_rrl",caption:"Latest Remove Date",width:120,alignment:"center"}}),a("DxColumn",{attrs:{"data-field":"start_date",caption:"Corrosion Rate (mm/y)",width:100,alignment:"center",dataType:"date",format:"dd MMM yyyy"}}),a("DxColumn",{attrs:{"data-field":"expiry_date",caption:"Max Pit Depth (mm)",width:100,alignment:"center",dataType:"date",format:"dd MMM yyyy"}}),a("DxColumn",{attrs:{"data-field":"expiry_date",caption:"Pitting Rate (mm/y)",width:100,alignment:"center",dataType:"date",format:"dd MMM yyyy"}}),a("DxColumn",{attrs:{width:80,alignment:"center","cell-template":"action-cell-template"}}),a("DxToolbar",[a("DxItem",{attrs:{location:"after",template:"addButton"}}),a("DxItem",{attrs:{location:"after",name:"searchPanel"}})],1),a("DxScrolling",{attrs:{mode:"standard"}}),a("DxSearchPanel",{attrs:{visible:!0}}),a("DxPaging",{attrs:{"page-size":5,"page-index":0}}),a("DxPager",{attrs:{"show-page-size-selector":!0,"allowed-page-sizes":[5,10,25],"show-navigation-buttons":!0,"show-info":!1,"info-text":"Page {0} of {1} ({2} items)"}}),a("DxExport",{attrs:{enabled:!1}})],1)],1)])]),1===t.isShow?a("AddPopup",{on:{popup:t.FETCH_MOC_RECORD}}):t._e()],1)},s=[],r=(a(5086),a(17),a(88704)),c=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"page-container"},[a("div",{staticClass:"page-section"},[a("div",{staticClass:"table-wrapper"},[a("h3",{staticStyle:{"grid-column":"span 2","margin-bottom":"0","margin-top":"0"}},[t._v("New Corrosion Coupon")]),a("div",{staticClass:"input-wrapper"},[a("span",[t._v("Platform")]),a("div",{staticClass:"input"},[a("DxTextBox",{attrs:{placeholder:"Enter Platform"},model:{value:t.mocList.worksite,callback:function(e){t.$set(t.mocList,"worksite",e)},expression:"mocList.worksite"}})],1)]),a("div",{staticClass:"input-wrapper"},[a("span",[t._v("Tag Number")]),a("div",{staticClass:"input"},[a("DxTextBox",{attrs:{placeholder:"Enter Tag Number"},model:{value:t.mocList.worksite,callback:function(e){t.$set(t.mocList,"worksite",e)},expression:"mocList.worksite"}})],1)]),a("div",{staticClass:"input-wrapper",attrs:{fill:""}},[a("span",[t._v("Description")]),a("div",{staticClass:"input"},[a("DxTextBox",{attrs:{placeholder:"Enter Description"},model:{value:t.mocList.worksite,callback:function(e){t.$set(t.mocList,"worksite",e)},expression:"mocList.worksite"}})],1)]),a("div",{staticClass:"input-wrapper"},[a("span",[t._v("Latest Remove Date")]),a("div",{staticClass:"select"},[a("DxDateBox",{attrs:{type:"date",placeholder:"Select Latest Remove Date","display-format":"dd MMM yyyy"},model:{value:t.mocList.start_date,callback:function(e){t.$set(t.mocList,"start_date",e)},expression:"mocList.start_date"}})],1)]),a("div",{staticClass:"input-wrapper"},[a("span",[t._v("Corrosion Rate (mm/y)")]),a("div",{staticClass:"input"},[a("DxTextBox",{attrs:{placeholder:"Enter Corrosion Rate"},model:{value:t.mocList.worksite,callback:function(e){t.$set(t.mocList,"worksite",e)},expression:"mocList.worksite"}})],1)]),a("div",{staticClass:"input-wrapper"},[a("span",[t._v("Max Pit Depth (mm)")]),a("div",{staticClass:"input"},[a("DxTextBox",{attrs:{placeholder:"Enter Max Pit Depth"},model:{value:t.mocList.worksite,callback:function(e){t.$set(t.mocList,"worksite",e)},expression:"mocList.worksite"}})],1)]),a("div",{staticClass:"input-wrapper"},[a("span",[t._v("Pitting Rate (mm/y)")]),a("div",{staticClass:"input"},[a("DxTextBox",{attrs:{placeholder:"Enter Pitting Rate"},model:{value:t.mocList.worksite,callback:function(e){t.$set(t.mocList,"worksite",e)},expression:"mocList.worksite"}})],1)]),a("button",{staticClass:"create",on:{click:t.CREATE_RECORD}},[t._v("Create")]),a("button",{on:{click:function(e){return t.$emit("popup")}}},[t._v("Cancel")])])])])},l=[],d=a(49148),u=a.n(d),m=a(47093),p=a(10788),h=a.n(p),_=a(16164),g=a(57723),f=a.n(g),D=a(17768),x=a.n(D),C=a(63869);const v={name:"inspection-record",components:{DxDateBox:x(),DxTextBox:f()},created:function(){this.$store.commit("UPDATE_CURRENT_PAGENAME",{subpageName:"CORROSION COUPON",subpageInnerName:null}),this.FETCH_DROPDOWN_NOC(),this.FETCH_DROPDOWN_RRL(),this.FETCH_DROPDOWN_STATUS()},data:function(){return{mocList:{id:0,is_active:!0,moc_number:null,title:null,id_moc_noc:null,worksite:null,id_moc_rrl:null,start_date:null,expiry_date:null,id_moc_status:null,action:null,remark:null,initiator:null},formSelect:{noc:[],status:[],rrl:[]}}},computed:{},methods:{EXPORT_DATA:function(t){var e=new m.Workbook,a=e.addWorksheet("Projects");(0,_.V)({worksheet:a,component:t.component}).then((function(){e.xlsx.writeBuffer().then((function(t){h()(new Blob([t],{type:"application/octet-stream"}),"inspection_record.xlsx")}))})),t.cancel=!0},CREATE_RECORD:function(){var t=this;console.log("pdf",this.mocList.moc_file_path),null!==this.mocList.start_date&&(this.mocList.start_date=u()(this.mocList.start_date).format("L")),null!==this.mocList.expiry_date&&(this.mocList.expiry_date=u()(this.mocList.expiry_date).format("L")),(0,r.p)({method:"post",url:"/ManagementOfChange",headers:{Authorization:"Bearer "+JSON.parse(localStorage.getItem("token"))},data:this.mocList}).then((function(e){201==e.status&&t.SET_CURRENT_VIEW(0)}))["catch"]((function(e){t.$ons.notification.alert(e.code+" "+e.response.status+" "+e.message)}))["finally"]((function(){}))},FETCH_DROPDOWN_NOC:function(){var t=this;(0,r.p)({method:"get",url:"/Md/get-md-moc-noc-list",headers:{Authorization:"Bearer "+JSON.parse(localStorage.getItem("token"))},data:{}}).then((function(e){200==e.status&&e.data&&(t.formSelect.noc=e.data)}))["catch"]((function(t){console.log(t)}))["finally"]((function(){t.isLoading=!1}))},FETCH_DROPDOWN_STATUS:function(){var t=this;(0,r.p)({method:"get",url:"/Md/get-md-moc-status-list",headers:{Authorization:"Bearer "+JSON.parse(localStorage.getItem("token"))},data:{}}).then((function(e){200==e.status&&e.data&&(t.formSelect.status=e.data)}))["catch"]((function(t){console.log(t)}))["finally"]((function(){t.isLoading=!1}))},FETCH_DROPDOWN_RRL:function(){var t=this;(0,r.p)({method:"get",url:"/Md/get-md-moc-rrl-list",headers:{Authorization:"Bearer "+JSON.parse(localStorage.getItem("token"))},data:{}}).then((function(e){200==e.status&&e.data&&(t.formSelect.rrl=e.data)}))["catch"]((function(t){console.log(t)}))["finally"]((function(){t.isLoading=!1}))},SET_CURRENT_VIEW:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.$store.commit("SET_SHOW_BACK_BUTTON",!0),null!==e?this.$emit("currentView",t,e):this.$emit("currentView",t)}}},E=v;var S=a(81656),T=(0,S.A)(E,c,l,!1,null,"45400c97",null);const w=T.exports;var O=a(70296),R=a.n(O),L=a(83954);const N={name:"inspection-record",components:{DxDataGrid:C.DxDataGrid,DxSearchPanel:C.DxSearchPanel,DxPaging:C.DxPaging,DxPager:C.DxPager,DxScrolling:C.DxScrolling,DxColumn:C.DxColumn,DxExport:C.DxExport,DxToolbar:C.DxToolbar,DxHeaderFilter:C.DxHeaderFilter,DxSelection:C.DxSelection,DxItem:L.DxItem,DxEditing:C.DxEditing,DxFilterRow:C.DxFilterRow,DxButton:R(),AddPopup:w},created:function(){this.$store.commit("UPDATE_CURRENT_PAGENAME",{subpageName:"CORROSION COUPON",subpageInnerName:null}),1==this.$store.state.status.server&&(this.FETCH_DROPDOWN_NOC(),this.FETCH_DROPDOWN_RRL(),this.FETCH_DROPDOWN_STATUS(),this.FETCH_MOC_RECORD())},data:function(){return{testList:null,mocList:{},dataGridAttributes:{class:"data-grid-style"},rrl:[],status:[],noc:[],isShow:0}},computed:{},methods:{EXPORT_DATA:function(t){var e=new m.Workbook,a=e.addWorksheet("Projects");(0,_.V)({worksheet:a,component:t.component}).then((function(){e.xlsx.writeBuffer().then((function(t){h()(new Blob([t],{type:"application/octet-stream"}),"inspection_record.xlsx")}))})),t.cancel=!0},FETCH_MOC_RECORD:function(){var t=this;this.isLoading=!0,this.isShow=0,(0,r.p)({method:"get",url:"/ManagementOfChange",headers:{Authorization:"Bearer "+JSON.parse(localStorage.getItem("token"))}}).then((function(e){console.log("insp record:"),console.log(e),200==e.status&&e.data&&(t.mocList=e.data)}))["catch"]((function(t){console.log(t)}))["finally"]((function(){t.isLoading=!1}))},DELETE_RECORD:function(t){var e=this;(0,r.p)({method:"delete",url:"/ManagementOfChange/delete-management-of-change?id="+t.key,headers:{Authorization:"Bearer "+JSON.parse(localStorage.getItem("token"))}}).then((function(t){204==t.status&&(console.log("delete success"),e.FETCH_MOC_RECORD())}))["catch"]((function(t){e.$ons.notification.alert(t.code+" "+t.response.status+" "+t.message)}))["finally"]((function(){}))},GET_STATUS_CELL_COLOR:function(t){if("data"===t.rowType&&"id_moc_status"===t.column.dataField){if(t.data.id_moc_status){var e=this.status.filter((function(e){return e.id===t.data.id_moc_status}));return console.log(e),e[0].color_code}return"#fff"}},FETCH_DROPDOWN_NOC:function(){var t=this;(0,r.p)({method:"get",url:"/Md/get-md-moc-noc-list",headers:{Authorization:"Bearer "+JSON.parse(localStorage.getItem("token"))},data:{}}).then((function(e){200==e.status&&e.data&&(t.noc=e.data)}))["catch"]((function(t){console.log(t)}))["finally"]((function(){t.isLoading=!1}))},FETCH_DROPDOWN_STATUS:function(){var t=this;(0,r.p)({method:"get",url:"/Md/get-md-moc-status-list",headers:{Authorization:"Bearer "+JSON.parse(localStorage.getItem("token"))},data:{}}).then((function(e){200==e.status&&e.data&&(t.status=e.data)}))["catch"]((function(t){console.log(t)}))["finally"]((function(){t.isLoading=!1}))},FETCH_DROPDOWN_RRL:function(){var t=this;(0,r.p)({method:"get",url:"/Md/get-md-moc-rrl-list",headers:{Authorization:"Bearer "+JSON.parse(localStorage.getItem("token"))},data:{}}).then((function(e){200==e.status&&e.data&&(t.rrl=e.data)}))["catch"]((function(t){console.log(t)}))["finally"]((function(){t.isLoading=!1}))},SET_CURRENT_VIEW:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this.$store.commit("SET_SHOW_BACK_BUTTON",!1),null!==e&&null===a?this.$emit("currentView",t,e):null!==e&&null!==a?this.$emit("currentView",t,e,a):this.$emit("currentView",t)}}},k=N;var b=(0,S.A)(k,n,s,!1,null,"698f0703",null);const y=b.exports;var A=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"page-container"},[a("div",{staticClass:"page-section"},[a("button",{staticClass:"back",attrs:{"span-3":""},on:{click:function(e){return t.SET_CURRENT_VIEW(0)}}},[t._v("BACK")]),a("div",{staticClass:"table-wrapper"},[a("div",{staticClass:"table-tabs-buttons",attrs:{fill:""}},t._l(t.tabs,(function(e,i){return a("button",{key:i,class:t.active_tab===e?"active":"",on:{click:function(a){t.active_tab=e}}},[t._v(" "+t._s(e)+" ")])})),0),t.active_tab===t.tabs[0]?a("div",{staticClass:"table-chart",attrs:{fill:""}},[a("div",{staticClass:"chart-container"},[a("highcharts",{attrs:{options:t.chartOptions}})],1),a("div",{staticClass:"chart-container"},[a("highcharts",{attrs:{options:t.chartOptions}})],1),a("div",{staticClass:"chart-container"},[a("highcharts",{attrs:{options:t.chartOptions}})],1)]):t._e(),t.active_tab===t.tabs[1]?a("div",{attrs:{fill:""}},[a("DxDataGrid",{attrs:{id:"data-grid-list","key-expr":"id","data-source":t.monitoringRecord,selection:{mode:"single"},"hover-state-enabled":!0,"allow-column-reordering":!0,"show-borders":!0,"show-row-lines":!0,"row-alternation-enabled":!1,"word-wrap-enabled":!0,"column-auto-width":!0},scopedSlots:t._u([{key:"addButton",fn:function(){return[a("DxButton",{attrs:{icon:"las la-plus",hint:"Add"},on:{click:function(e){t.isShow=1}}})]},proxy:!0},{key:"action-cell-template",fn:function(e){var i=e.data;return[a("div",{staticClass:"action-wrapper"},[a("div",{on:{click:function(){return[t.isShow=2,t.selectedId=i.data.id]}}},[a("img",{staticClass:"penSvg",attrs:{src:"/img/svg/pen-svg.svg"}})]),a("div",{on:{click:function(e){return t.DELETE_RECORD(i)}}},[a("img",{staticClass:"trashSvg",attrs:{src:"/img/svg/trash-svg.svg"}})])])]}},{key:"masterDetailTemplate",fn:function(e){var i=e.data;return[a("CouponGrid",{attrs:{coupon_data:i},on:{action:t.SET_IS_SHOW}})]}}],null,!1,2290820155)},[a("DxEditing",{attrs:{"allow-updating":!1,"allow-deleting":!1,"allow-adding":!1,"use-icons":!0,mode:"popup"}}),a("DxFilterRow",{attrs:{visible:!0}}),a("DxHeaderFilter",{attrs:{visible:!0}}),a("DxSelection",{attrs:{mode:"single"}}),a("DxColumn",{attrs:{"data-field":"install_date",caption:"Install Date",width:100,alignment:"center",dataType:"date",format:"dd MMM yyyy"}}),a("DxColumn",{attrs:{"data-field":"remove_date",caption:"Remove Date",width:100,alignment:"center",dataType:"date",format:"dd MMM yyyy"}}),a("DxColumn",{attrs:{"data-field":"expose_time",caption:"Expose Time (days)",width:100,alignment:"center",dataType:"date",format:"dd MMM yyyy"}}),a("DxColumn",{attrs:{"data-field":"coupon_id",caption:"Coupon ID (Highest CR.)",width:120,alignment:"center"}}),a("DxColumn",{attrs:{"data-field":"weight_loss",caption:"Weight Loss (g)",width:120,alignment:"center"}}),a("DxColumn",{attrs:{"data-field":"corrosion_rate",caption:"Corrosion Rate (mm/y)",width:120,alignment:"center"}}),a("DxColumn",{attrs:{"data-field":"max_pit_depth",caption:"Max Pit Depth",width:120,alignment:"center"}}),a("DxColumn",{attrs:{"data-field":"pitting_rate",caption:"Pitting Rate (mm/y)",width:120,alignment:"center"}}),a("DxColumn",{attrs:{width:80,alignment:"center","cell-template":"action-cell-template"}}),a("DxToolbar",[a("DxItem",{attrs:{location:"after",template:"addButton"}}),a("DxItem",{attrs:{location:"after",name:"searchPanel"}})],1),a("DxMasterDetail",{attrs:{enabled:!0,template:"masterDetailTemplate"}}),a("DxScrolling",{attrs:{mode:"standard"}}),a("DxSearchPanel",{attrs:{visible:!0}}),a("DxPaging",{attrs:{"page-size":5,"page-index":0}}),a("DxPager",{attrs:{"show-page-size-selector":!0,"allowed-page-sizes":[5,10,25],"show-navigation-buttons":!0,"show-info":!1,"info-text":"Page {0} of {1} ({2} items)"}}),a("DxExport",{attrs:{enabled:!1}})],1)],1):t._e()])])]),1===t.isShow?a("AddMonitoringPopup",{on:{popup:function(e){t.isShow=0}}}):t._e(),2===t.isShow?a("EditMonitoringPopup",{on:{popup:function(e){t.isShow=0}}}):t._e(),3===t.isShow?a("AddCouponPopup",{on:{popup:function(e){t.isShow=0}}}):t._e(),4===t.isShow?a("EditCouponPopup",{on:{popup:function(e){t.isShow=0}}}):t._e()],1)},P=[],B=a(23772),M=(a(94009),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("DxDataGrid",{attrs:{id:"data-grid-list","key-expr":"id","data-source":t.couponList,selection:{mode:"single"},"hover-state-enabled":!0,"allow-column-reordering":!0,"show-borders":!0,"show-row-lines":!0,"row-alternation-enabled":!1,"word-wrap-enabled":!0},on:{"init-new-row":function(e){return t.SET_CURRENT_VIEW(1)}},scopedSlots:t._u([{key:"action-cell-template",fn:function(e){var i=e.data;return[a("div",{staticClass:"action-wrapper"},[a("div",{on:{click:function(e){return t.$emit("action",4)}}},[a("img",{staticClass:"penSvg",attrs:{src:"/img/svg/pen-svg.svg"}})]),a("div",{on:{click:function(e){return t.DELETE_RECORD(i)}}},[a("img",{staticClass:"trashSvg",attrs:{src:"/img/svg/trash-svg.svg"}})])])]}},{key:"addButton",fn:function(){return[a("DxButton",{attrs:{icon:"las la-plus",hint:"Add"},on:{click:function(e){return t.$emit("action",3)}}})]},proxy:!0}])},[a("DxEditing",{attrs:{"allow-updating":!1,"allow-deleting":!1,"allow-adding":!0,"use-icons":!0,mode:"popup"}}),a("DxFilterRow",{attrs:{visible:!0}}),a("DxHeaderFilter",{attrs:{visible:!0}}),a("DxSelection",{attrs:{mode:"single"}}),a("DxColumn",{attrs:{"data-field":"coupon_id",caption:"Coupon ID",width:120,alignment:"center"}}),a("DxColumn",{attrs:{"data-field":"inital_weight",caption:"Initial Weight (g)",width:120,alignment:"center"}}),a("DxColumn",{attrs:{"data-field":"final_weight",caption:"Final Weight (g)",width:120,alignment:"center"}}),a("DxColumn",{attrs:{"data-field":"weight_loss",caption:"Weight Loss (g)",width:120,alignment:"center"}}),a("DxColumn",{attrs:{"data-field":"corrosion_rate",caption:"Corrosion Rate (mm/y)",width:120,alignment:"center"}}),a("DxColumn",{attrs:{"data-field":"max_pit_depth",caption:"Max Pit Depth",width:120,alignment:"center"}}),a("DxColumn",{attrs:{"data-field":"pitting_rate",caption:"Pitting Rate (mm/y)",width:120,alignment:"center"}}),a("DxColumn",{attrs:{width:80,alignment:"center","cell-template":"action-cell-template"}}),a("DxToolbar",[a("DxItem",{attrs:{location:"after",template:"addButton"}}),a("DxItem",{attrs:{location:"after",name:"searchPanel"}})],1),a("DxScrolling",{attrs:{mode:"standard"}}),a("DxSearchPanel",{attrs:{visible:!1}}),a("DxPaging",{attrs:{"page-size":5,"page-index":0}}),a("DxPager",{attrs:{"show-page-size-selector":!0,"allowed-page-sizes":[5,10,25],"show-navigation-buttons":!0,"show-info":!1,"info-text":"Page {0} of {1} ({2} items)"}}),a("DxExport",{attrs:{enabled:!1}})],1)}),I=[],W=a(10100),$=a.n(W);const H={name:"inspection-record",props:{coupon_data:Object},components:{DxDataGrid:C.DxDataGrid,DxSearchPanel:C.DxSearchPanel,DxPaging:C.DxPaging,DxPager:C.DxPager,DxColumn:C.DxColumn,DxToolbar:C.DxToolbar,DxItem:L.DxItem,DxEditing:C.DxEditing,DxButton:R(),DxSelectBox:$(),DxTextBox:f(),DxDateBox:x()},created:function(){this.$store.commit("UPDATE_CURRENT_PAGENAME",{subpageName:"MOC Number: "+this.moc_no,subpageInnerName:null}),this.$store.state.status.server},data:function(){return{couponList:[{id:1,coupon_id:"TW905",inital_weight:"36.8793",final_weight:"36.7730",weight_loss:"0.1063",corrosion_rate:"0.006",max_pit_depth:"0.000",pitting_rate:"0.000"},{id:2,coupon_id:"TW906",inital_weight:"37.8504",final_weight:"37.7437",weight_loss:"0.1067",corrosion_rate:"0.007",max_pit_depth:"0.000",pitting_rate:"0.000"}],isShow:0}},computed:{},methods:{FETCH_MOC_RECORD:function(){var t=this;this.isLoading=!0,(0,r.p)({method:"get",url:"/ManagementOfChange/"+this.id_record,headers:{Authorization:"Bearer "+JSON.parse(localStorage.getItem("token"))}}).then((function(e){200==e.status&&e.data&&(t.mocList=e.data)}))["catch"]((function(t){console.log(t)}))["finally"]((function(){t.isLoading=!1}))},UPDATE_RECORD:function(){var t=this;null!==this.mocList.start_date&&(this.mocList.start_date=u()(this.mocList.start_date).format("L")),null!==this.mocList.expiry_date&&(this.mocList.expiry_date=u()(this.mocList.expiry_date).format("L")),(0,r.p)({method:"put",url:"/ManagementOfChange/"+this.mocList.id,headers:{Authorization:"Bearer "+JSON.parse(localStorage.getItem("token"))},data:this.mocList}).then((function(e){204==e.status&&t.SET_CURRENT_VIEW(0)}))["catch"]((function(e){t.$ons.notification.alert(e.code+" "+e.response.status+" "+e.message)}))["finally"]((function(){}))},DELETE_RECORD:function(){var t=this;(0,r.p)({method:"delete",url:"/ManagementOfChange/delete-management-of-change?id="+this.mocList.id,headers:{Authorization:"Bearer "+JSON.parse(localStorage.getItem("token"))}}).then((function(e){204==e.status&&t.SET_CURRENT_VIEW(0)}))["catch"]((function(e){t.$ons.notification.alert(e.code+" "+e.response.status+" "+e.message)}))["finally"]((function(){}))},FETCH_DROPDOWN_NOC:function(){var t=this;(0,r.p)({method:"get",url:"/Md/get-md-moc-noc-list",headers:{Authorization:"Bearer "+JSON.parse(localStorage.getItem("token"))},data:{}}).then((function(e){200==e.status&&e.data&&(t.formSelect.noc=e.data)}))["catch"]((function(t){console.log(t)}))["finally"]((function(){t.isLoading=!1}))},FETCH_DROPDOWN_STATUS:function(){var t=this;(0,r.p)({method:"get",url:"/Md/get-md-moc-status-list",headers:{Authorization:"Bearer "+JSON.parse(localStorage.getItem("token"))},data:{}}).then((function(e){200==e.status&&e.data&&(t.formSelect.status=e.data)}))["catch"]((function(t){console.log(t)}))["finally"]((function(){t.isLoading=!1}))},FETCH_DROPDOWN_RRL:function(){var t=this;(0,r.p)({method:"get",url:"/Md/get-md-moc-rrl-list",headers:{Authorization:"Bearer "+JSON.parse(localStorage.getItem("token"))},data:{}}).then((function(e){200==e.status&&e.data&&(t.formSelect.rrl=e.data)}))["catch"]((function(t){console.log(t)}))["finally"]((function(){t.isLoading=!1}))},SET_CURRENT_VIEW:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.$store.commit("SET_SHOW_BACK_BUTTON",!0),null!==e?this.$emit("currentView",t,e):this.$emit("currentView",t)}}},F=H;var U=(0,S.A)(F,M,I,!1,null,"68e0b701",null);const z=U.exports;var V=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"page-container"},[a("div",{staticClass:"page-section"},[a("div",{staticClass:"table-wrapper"},[a("h3",{staticStyle:{"grid-column":"span 2","margin-bottom":"0","margin-top":"0"}},[t._v("New Monitoring Record")]),a("div",{staticClass:"input-wrapper"},[a("span",[t._v("Install Date")]),a("div",{staticClass:"input"},[a("DxSelectBox",{attrs:{items:t.formSelect.status,"value-expr":"id","display-expr":"status",placeholder:"Select Install Date"},model:{value:t.mocList.id_moc_status,callback:function(e){t.$set(t.mocList,"id_moc_status",e)},expression:"mocList.id_moc_status"}})],1)]),a("div",{staticClass:"input-wrapper"},[a("span",[t._v("Remove Date")]),a("div",{staticClass:"input"},[a("DxSelectBox",{attrs:{items:t.formSelect.status,"value-expr":"id","display-expr":"status",placeholder:"Select Remove Date"},model:{value:t.mocList.id_moc_status,callback:function(e){t.$set(t.mocList,"id_moc_status",e)},expression:"mocList.id_moc_status"}})],1)]),a("button",{staticClass:"create",on:{click:t.CREATE_RECORD}},[t._v("Create")]),a("button",{on:{click:function(e){return t.$emit("popup")}}},[t._v("Cancel")])])])])},J=[];const G={name:"inspection-record",components:{DxSelectBox:$()},created:function(){this.$store.commit("UPDATE_CURRENT_PAGENAME",{subpageName:"CORROSION COUPON",subpageInnerName:null}),this.FETCH_DROPDOWN_NOC(),this.FETCH_DROPDOWN_RRL(),this.FETCH_DROPDOWN_STATUS()},data:function(){return{mocList:{id:0,is_active:!0,moc_number:null,title:null,id_moc_noc:null,worksite:null,id_moc_rrl:null,start_date:null,expiry_date:null,id_moc_status:null,action:null,remark:null,initiator:null},formSelect:{noc:[],status:[],rrl:[]}}},computed:{},methods:{EXPORT_DATA:function(t){var e=new m.Workbook,a=e.addWorksheet("Projects");(0,_.V)({worksheet:a,component:t.component}).then((function(){e.xlsx.writeBuffer().then((function(t){h()(new Blob([t],{type:"application/octet-stream"}),"inspection_record.xlsx")}))})),t.cancel=!0},CREATE_RECORD:function(){var t=this;console.log("pdf",this.mocList.moc_file_path),null!==this.mocList.start_date&&(this.mocList.start_date=u()(this.mocList.start_date).format("L")),null!==this.mocList.expiry_date&&(this.mocList.expiry_date=u()(this.mocList.expiry_date).format("L")),(0,r.p)({method:"post",url:"/ManagementOfChange",headers:{Authorization:"Bearer "+JSON.parse(localStorage.getItem("token"))},data:this.mocList}).then((function(e){201==e.status&&t.SET_CURRENT_VIEW(0)}))["catch"]((function(e){t.$ons.notification.alert(e.code+" "+e.response.status+" "+e.message)}))["finally"]((function(){}))},FETCH_DROPDOWN_NOC:function(){var t=this;(0,r.p)({method:"get",url:"/Md/get-md-moc-noc-list",headers:{Authorization:"Bearer "+JSON.parse(localStorage.getItem("token"))},data:{}}).then((function(e){200==e.status&&e.data&&(t.formSelect.noc=e.data)}))["catch"]((function(t){console.log(t)}))["finally"]((function(){t.isLoading=!1}))},FETCH_DROPDOWN_STATUS:function(){var t=this;(0,r.p)({method:"get",url:"/Md/get-md-moc-status-list",headers:{Authorization:"Bearer "+JSON.parse(localStorage.getItem("token"))},data:{}}).then((function(e){200==e.status&&e.data&&(t.formSelect.status=e.data)}))["catch"]((function(t){console.log(t)}))["finally"]((function(){t.isLoading=!1}))},FETCH_DROPDOWN_RRL:function(){var t=this;(0,r.p)({method:"get",url:"/Md/get-md-moc-rrl-list",headers:{Authorization:"Bearer "+JSON.parse(localStorage.getItem("token"))},data:{}}).then((function(e){200==e.status&&e.data&&(t.formSelect.rrl=e.data)}))["catch"]((function(t){console.log(t)}))["finally"]((function(){t.isLoading=!1}))},SET_CURRENT_VIEW:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.$store.commit("SET_SHOW_BACK_BUTTON",!0),null!==e?this.$emit("currentView",t,e):this.$emit("currentView",t)}}},K=G;var j=(0,S.A)(K,V,J,!1,null,"4042caa5",null);const X=j.exports;var q=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"page-container"},[a("div",{staticClass:"page-section"},[a("div",{staticClass:"table-wrapper"},[a("div",{staticClass:"input-wrapper",attrs:{"span-3":""}},[a("span",[t._v("Install Date")]),a("div",{staticClass:"input"},[a("DxSelectBox",{attrs:{items:t.formSelect.status,"value-expr":"id","display-expr":"status",placeholder:"Select Install Date"},model:{value:t.mocList.id_moc_status,callback:function(e){t.$set(t.mocList,"id_moc_status",e)},expression:"mocList.id_moc_status"}})],1)]),a("div",{staticClass:"input-wrapper",attrs:{"span-3":""}},[a("span",[t._v("Remove Date")]),a("div",{staticClass:"input"},[a("DxSelectBox",{attrs:{items:t.formSelect.status,"value-expr":"id","display-expr":"status",placeholder:"Select Remove Date"},model:{value:t.mocList.id_moc_status,callback:function(e){t.$set(t.mocList,"id_moc_status",e)},expression:"mocList.id_moc_status"}})],1)]),a("button",{staticClass:"create",attrs:{"span-3":""}},[t._v("Update")]),a("button",{attrs:{"span-3":""},on:{click:function(e){return t.$emit("popup")}}},[t._v("Cancel")])])])])},Q=[],Y=a(84874);const Z={name:"inspection-record",props:{id_record:Number,moc_no:String},components:{DxSelectBox:$(),DxTextBox:f(),DxDateBox:x(),DxCheckBox:Y.DxCheckBox},created:function(){this.$store.commit("UPDATE_CURRENT_PAGENAME",{subpageName:"MOC Number: "+this.moc_no,subpageInnerName:null}),1==this.$store.state.status.server&&(this.FETCH_DROPDOWN_NOC(),this.FETCH_DROPDOWN_RRL(),this.FETCH_DROPDOWN_STATUS(),this.FETCH_MOC_RECORD())},data:function(){return{mocList:{},btn_state:!1,formSelect:{noc:[],status:[],rrl:[]},activities:{wa:!1,mb:!1,rci:!1,cc:!1,erp:!1}}},computed:{},methods:{FETCH_MOC_RECORD:function(){var t=this;this.isLoading=!0,(0,r.p)({method:"get",url:"/ManagementOfChange/"+this.id_record,headers:{Authorization:"Bearer "+JSON.parse(localStorage.getItem("token"))}}).then((function(e){200==e.status&&e.data&&(t.mocList=e.data)}))["catch"]((function(t){console.log(t)}))["finally"]((function(){t.isLoading=!1}))},UPDATE_RECORD:function(){var t=this;null!==this.mocList.start_date&&(this.mocList.start_date=u()(this.mocList.start_date).format("L")),null!==this.mocList.expiry_date&&(this.mocList.expiry_date=u()(this.mocList.expiry_date).format("L")),(0,r.p)({method:"put",url:"/ManagementOfChange/"+this.mocList.id,headers:{Authorization:"Bearer "+JSON.parse(localStorage.getItem("token"))},data:this.mocList}).then((function(e){204==e.status&&t.SET_CURRENT_VIEW(0)}))["catch"]((function(e){t.$ons.notification.alert(e.code+" "+e.response.status+" "+e.message)}))["finally"]((function(){}))},DELETE_RECORD:function(){var t=this;(0,r.p)({method:"delete",url:"/ManagementOfChange/delete-management-of-change?id="+this.mocList.id,headers:{Authorization:"Bearer "+JSON.parse(localStorage.getItem("token"))}}).then((function(e){204==e.status&&t.SET_CURRENT_VIEW(0)}))["catch"]((function(e){t.$ons.notification.alert(e.code+" "+e.response.status+" "+e.message)}))["finally"]((function(){}))},FETCH_DROPDOWN_NOC:function(){var t=this;(0,r.p)({method:"get",url:"/Md/get-md-moc-noc-list",headers:{Authorization:"Bearer "+JSON.parse(localStorage.getItem("token"))},data:{}}).then((function(e){200==e.status&&e.data&&(t.formSelect.noc=e.data)}))["catch"]((function(t){console.log(t)}))["finally"]((function(){t.isLoading=!1}))},FETCH_DROPDOWN_STATUS:function(){var t=this;(0,r.p)({method:"get",url:"/Md/get-md-moc-status-list",headers:{Authorization:"Bearer "+JSON.parse(localStorage.getItem("token"))},data:{}}).then((function(e){200==e.status&&e.data&&(t.formSelect.status=e.data)}))["catch"]((function(t){console.log(t)}))["finally"]((function(){t.isLoading=!1}))},FETCH_DROPDOWN_RRL:function(){var t=this;(0,r.p)({method:"get",url:"/Md/get-md-moc-rrl-list",headers:{Authorization:"Bearer "+JSON.parse(localStorage.getItem("token"))},data:{}}).then((function(e){200==e.status&&e.data&&(t.formSelect.rrl=e.data)}))["catch"]((function(t){console.log(t)}))["finally"]((function(){t.isLoading=!1}))},SET_CURRENT_VIEW:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.$store.commit("SET_SHOW_BACK_BUTTON",!0),null!==e?this.$emit("currentView",t,e):this.$emit("currentView",t)}}},tt=Z;var et=(0,S.A)(tt,q,Q,!1,null,"0b1b4628",null);const at=et.exports;var it=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"page-container"},[a("div",{staticClass:"page-section"},[a("div",{staticClass:"table-wrapper"},[a("h3",{staticStyle:{"grid-column":"span 2","margin-bottom":"0","margin-top":"0"}},[t._v("New Coupon")]),a("div",{staticClass:"input-wrapper"},[a("span",[t._v("Coupon ID")]),a("div",{staticClass:"input"},[a("DxTextBox",{attrs:{placeholder:"Enter Coupon ID"},model:{value:t.mocList.moc_number,callback:function(e){t.$set(t.mocList,"moc_number",e)},expression:"mocList.moc_number"}})],1)]),a("div",{staticClass:"input-wrapper"},[a("span",[t._v("Material")]),a("div",{staticClass:"input"},[a("DxSelectBox",{attrs:{items:t.formSelect.status,"value-expr":"id","display-expr":"status",placeholder:"Select Material"},model:{value:t.mocList.id_moc_status,callback:function(e){t.$set(t.mocList,"id_moc_status",e)},expression:"mocList.id_moc_status"}})],1)]),a("div",{staticClass:"input-wrapper"},[a("span",[t._v("Density (g/cm^3)")]),a("div",{staticClass:"input"},[a("DxTextBox",{attrs:{placeholder:"Enter Density"},model:{value:t.mocList.worksite,callback:function(e){t.$set(t.mocList,"worksite",e)},expression:"mocList.worksite"}})],1)]),a("div",{staticClass:"input-wrapper"},[a("span",[t._v("Area (in^2)")]),a("div",{staticClass:"input"},[a("DxTextBox",{attrs:{placeholder:"Enter Area"},model:{value:t.mocList.worksite,callback:function(e){t.$set(t.mocList,"worksite",e)},expression:"mocList.worksite"}})],1)]),a("div",{staticClass:"input-wrapper"},[a("span",[t._v("Inital Weight (g)")]),a("div",{staticClass:"input"},[a("DxTextBox",{attrs:{placeholder:"Enter Inital Weight"},model:{value:t.mocList.worksite,callback:function(e){t.$set(t.mocList,"worksite",e)},expression:"mocList.worksite"}})],1)]),a("div",{staticClass:"input-wrapper"},[a("span",[t._v("Final Weight (g)")]),a("div",{staticClass:"input"},[a("DxTextBox",{attrs:{placeholder:"Enter Final Weight"},model:{value:t.mocList.worksite,callback:function(e){t.$set(t.mocList,"worksite",e)},expression:"mocList.worksite"}})],1)]),a("div",{staticClass:"input-wrapper"},[a("span",[t._v("Max Pit Depth (mm)")]),a("div",{staticClass:"input"},[a("DxTextBox",{attrs:{placeholder:"Enter Max Pit Depth"},model:{value:t.mocList.worksite,callback:function(e){t.$set(t.mocList,"worksite",e)},expression:"mocList.worksite"}})],1)]),a("div"),a("button",{staticClass:"create",on:{click:t.CREATE_RECORD}},[t._v("Create")]),a("button",{on:{click:function(e){return t.$emit("popup")}}},[t._v("Cancel")])])])])},ot=[];const nt={name:"inspection-record",components:{DxSelectBox:$(),DxTextBox:f()},created:function(){this.$store.commit("UPDATE_CURRENT_PAGENAME",{subpageName:"CORROSION COUPON",subpageInnerName:null}),this.FETCH_DROPDOWN_NOC(),this.FETCH_DROPDOWN_RRL(),this.FETCH_DROPDOWN_STATUS()},data:function(){return{mocList:{id:0,is_active:!0,moc_number:null,title:null,id_moc_noc:null,worksite:null,id_moc_rrl:null,start_date:null,expiry_date:null,id_moc_status:null,action:null,remark:null,initiator:null},formSelect:{noc:[],status:[],rrl:[]}}},computed:{},methods:{EXPORT_DATA:function(t){var e=new m.Workbook,a=e.addWorksheet("Projects");(0,_.V)({worksheet:a,component:t.component}).then((function(){e.xlsx.writeBuffer().then((function(t){h()(new Blob([t],{type:"application/octet-stream"}),"inspection_record.xlsx")}))})),t.cancel=!0},CREATE_RECORD:function(){var t=this;console.log("pdf",this.mocList.moc_file_path),null!==this.mocList.start_date&&(this.mocList.start_date=u()(this.mocList.start_date).format("L")),null!==this.mocList.expiry_date&&(this.mocList.expiry_date=u()(this.mocList.expiry_date).format("L")),(0,r.p)({method:"post",url:"/ManagementOfChange",headers:{Authorization:"Bearer "+JSON.parse(localStorage.getItem("token"))},data:this.mocList}).then((function(e){201==e.status&&t.SET_CURRENT_VIEW(0)}))["catch"]((function(e){t.$ons.notification.alert(e.code+" "+e.response.status+" "+e.message)}))["finally"]((function(){}))},FETCH_DROPDOWN_NOC:function(){var t=this;(0,r.p)({method:"get",url:"/Md/get-md-moc-noc-list",headers:{Authorization:"Bearer "+JSON.parse(localStorage.getItem("token"))},data:{}}).then((function(e){200==e.status&&e.data&&(t.formSelect.noc=e.data)}))["catch"]((function(t){console.log(t)}))["finally"]((function(){t.isLoading=!1}))},FETCH_DROPDOWN_STATUS:function(){var t=this;(0,r.p)({method:"get",url:"/Md/get-md-moc-status-list",headers:{Authorization:"Bearer "+JSON.parse(localStorage.getItem("token"))},data:{}}).then((function(e){200==e.status&&e.data&&(t.formSelect.status=e.data)}))["catch"]((function(t){console.log(t)}))["finally"]((function(){t.isLoading=!1}))},FETCH_DROPDOWN_RRL:function(){var t=this;(0,r.p)({method:"get",url:"/Md/get-md-moc-rrl-list",headers:{Authorization:"Bearer "+JSON.parse(localStorage.getItem("token"))},data:{}}).then((function(e){200==e.status&&e.data&&(t.formSelect.rrl=e.data)}))["catch"]((function(t){console.log(t)}))["finally"]((function(){t.isLoading=!1}))},SET_CURRENT_VIEW:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.$store.commit("SET_SHOW_BACK_BUTTON",!0),null!==e?this.$emit("currentView",t,e):this.$emit("currentView",t)}}},st=nt;var rt=(0,S.A)(st,it,ot,!1,null,"4d87240e",null);const ct=rt.exports;var lt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"page-container"},[a("div",{staticClass:"page-section"},[a("div",{staticClass:"table-wrapper"},[a("div",{staticClass:"input-wrapper",attrs:{"span-3":""}},[a("span",[t._v("Coupon ID")]),a("div",{staticClass:"input"},[a("DxTextBox",{attrs:{placeholder:"Enter Coupon ID"},model:{value:t.mocList.worksite,callback:function(e){t.$set(t.mocList,"worksite",e)},expression:"mocList.worksite"}})],1)]),a("div",{staticClass:"input-wrapper",attrs:{"span-3":""}},[a("span",[t._v("Material")]),a("div",{staticClass:"input"},[a("DxSelectBox",{attrs:{items:t.formSelect.status,"value-expr":"id","display-expr":"status",placeholder:"Select Material"},model:{value:t.mocList.id_moc_status,callback:function(e){t.$set(t.mocList,"id_moc_status",e)},expression:"mocList.id_moc_status"}})],1)]),a("div",{staticClass:"input-wrapper",attrs:{"span-3":""}},[a("span",[t._v("Density (g/cm^3)")]),a("div",{staticClass:"input"},[a("DxTextBox",{attrs:{placeholder:"Enter Density"},model:{value:t.mocList.worksite,callback:function(e){t.$set(t.mocList,"worksite",e)},expression:"mocList.worksite"}})],1)]),a("div",{staticClass:"input-wrapper",attrs:{"span-3":""}},[a("span",[t._v("Area (in^2)")]),a("div",{staticClass:"input"},[a("DxTextBox",{attrs:{placeholder:"Enter Area"},model:{value:t.mocList.worksite,callback:function(e){t.$set(t.mocList,"worksite",e)},expression:"mocList.worksite"}})],1)]),a("div",{staticClass:"input-wrapper",attrs:{"span-3":""}},[a("span",[t._v("Inital Weight (g)")]),a("div",{staticClass:"input"},[a("DxTextBox",{attrs:{placeholder:"Enter Inital Weight"},model:{value:t.mocList.worksite,callback:function(e){t.$set(t.mocList,"worksite",e)},expression:"mocList.worksite"}})],1)]),a("div",{staticClass:"input-wrapper",attrs:{"span-3":""}},[a("span",[t._v("Final Weight (g)")]),a("div",{staticClass:"input"},[a("DxTextBox",{attrs:{placeholder:"Enter Final Weight"},model:{value:t.mocList.worksite,callback:function(e){t.$set(t.mocList,"worksite",e)},expression:"mocList.worksite"}})],1)]),a("div",{staticClass:"input-wrapper",attrs:{"span-3":""}},[a("span",[t._v("Max Pit Depth (mm)")]),a("div",{staticClass:"input"},[a("DxTextBox",{attrs:{placeholder:"Enter Max Pit Depth"},model:{value:t.mocList.worksite,callback:function(e){t.$set(t.mocList,"worksite",e)},expression:"mocList.worksite"}})],1)]),a("div",{attrs:{"span-3":""}}),a("button",{staticClass:"create",attrs:{"span-3":""}},[t._v("Update")]),a("button",{attrs:{"span-3":""},on:{click:function(e){return t.$emit("popup")}}},[t._v("Cancel")])])])])},dt=[];const ut={name:"inspection-record",props:{id_record:Number,moc_no:String},components:{DxSelectBox:$(),DxTextBox:f(),DxDateBox:x(),DxCheckBox:Y.DxCheckBox},created:function(){this.$store.commit("UPDATE_CURRENT_PAGENAME",{subpageName:"MOC Number: "+this.moc_no,subpageInnerName:null}),1==this.$store.state.status.server&&(this.FETCH_DROPDOWN_NOC(),this.FETCH_DROPDOWN_RRL(),this.FETCH_DROPDOWN_STATUS(),this.FETCH_MOC_RECORD())},data:function(){return{mocList:{},btn_state:!1,formSelect:{noc:[],status:[],rrl:[]},activities:{wa:!1,mb:!1,rci:!1,cc:!1,erp:!1}}},computed:{},methods:{FETCH_MOC_RECORD:function(){var t=this;this.isLoading=!0,(0,r.p)({method:"get",url:"/ManagementOfChange/"+this.id_record,headers:{Authorization:"Bearer "+JSON.parse(localStorage.getItem("token"))}}).then((function(e){200==e.status&&e.data&&(t.mocList=e.data)}))["catch"]((function(t){console.log(t)}))["finally"]((function(){t.isLoading=!1}))},UPDATE_RECORD:function(){var t=this;null!==this.mocList.start_date&&(this.mocList.start_date=u()(this.mocList.start_date).format("L")),null!==this.mocList.expiry_date&&(this.mocList.expiry_date=u()(this.mocList.expiry_date).format("L")),(0,r.p)({method:"put",url:"/ManagementOfChange/"+this.mocList.id,headers:{Authorization:"Bearer "+JSON.parse(localStorage.getItem("token"))},data:this.mocList}).then((function(e){204==e.status&&t.SET_CURRENT_VIEW(0)}))["catch"]((function(e){t.$ons.notification.alert(e.code+" "+e.response.status+" "+e.message)}))["finally"]((function(){}))},DELETE_RECORD:function(){var t=this;(0,r.p)({method:"delete",url:"/ManagementOfChange/delete-management-of-change?id="+this.mocList.id,headers:{Authorization:"Bearer "+JSON.parse(localStorage.getItem("token"))}}).then((function(e){204==e.status&&t.SET_CURRENT_VIEW(0)}))["catch"]((function(e){t.$ons.notification.alert(e.code+" "+e.response.status+" "+e.message)}))["finally"]((function(){}))},FETCH_DROPDOWN_NOC:function(){var t=this;(0,r.p)({method:"get",url:"/Md/get-md-moc-noc-list",headers:{Authorization:"Bearer "+JSON.parse(localStorage.getItem("token"))},data:{}}).then((function(e){200==e.status&&e.data&&(t.formSelect.noc=e.data)}))["catch"]((function(t){console.log(t)}))["finally"]((function(){t.isLoading=!1}))},FETCH_DROPDOWN_STATUS:function(){var t=this;(0,r.p)({method:"get",url:"/Md/get-md-moc-status-list",headers:{Authorization:"Bearer "+JSON.parse(localStorage.getItem("token"))},data:{}}).then((function(e){200==e.status&&e.data&&(t.formSelect.status=e.data)}))["catch"]((function(t){console.log(t)}))["finally"]((function(){t.isLoading=!1}))},FETCH_DROPDOWN_RRL:function(){var t=this;(0,r.p)({method:"get",url:"/Md/get-md-moc-rrl-list",headers:{Authorization:"Bearer "+JSON.parse(localStorage.getItem("token"))},data:{}}).then((function(e){200==e.status&&e.data&&(t.formSelect.rrl=e.data)}))["catch"]((function(t){console.log(t)}))["finally"]((function(){t.isLoading=!1}))},SET_CURRENT_VIEW:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.$store.commit("SET_SHOW_BACK_BUTTON",!0),null!==e?this.$emit("currentView",t,e):this.$emit("currentView",t)}}},mt=ut;var pt=(0,S.A)(mt,lt,dt,!1,null,"57b9cc66",null);const ht=pt.exports,_t={name:"inspection-record",props:{id_record:Number,moc_no:String},components:{DxDataGrid:C.DxDataGrid,DxSearchPanel:C.DxSearchPanel,DxPaging:C.DxPaging,DxPager:C.DxPager,DxColumn:C.DxColumn,DxToolbar:C.DxToolbar,DxItem:L.DxItem,DxEditing:C.DxEditing,DxButton:R(),DxSelectBox:$(),DxTextBox:f(),DxDateBox:x(),DxMasterDetail:C.DxMasterDetail,CouponGrid:z,AddMonitoringPopup:X,EditMonitoringPopup:at,AddCouponPopup:ct,EditCouponPopup:ht},created:function(){var t;(this.$store.commit("UPDATE_CURRENT_PAGENAME",{subpageName:"MOC Number: "+this.moc_no,subpageInnerName:null}),1==this.$store.state.status.server)&&(this.chartOptions=(t={credits:{enabled:!1},title:{text:"Trending Results Chart",align:"center"},xAxis:{categories:["2020 H1","2020 H2","2021 H1","2021 H2","2022 H1","2022 H2","2023 H1","2023 H2"]},yAxis:{title:{text:this.active_tab}}},(0,B.A)(t,"credits",{enabled:!1}),(0,B.A)(t,"series",[{name:"Trend",data:[12.3,9.5,4,18.4,6,3,111,9.5]}]),t))},data:function(){return{monitoringRecord:[{id:1,install_date:"2 May 2022",remove_date:"-",expose_time:"-",coupon_id:"-",weight_loss:"-",corrosion_rate:"-",max_pit_rate:"-",pitting_rate:"-"},{id:2,install_date:"25 Apr 2021",remove_date:"24 Dec 2021",expose_time:"25 Dec 2021",coupon_id:"TW906",weight_loss:"0.1067",corrosion_rate:"0.007",max_pit_rate:"0.000",pitting_rate:"0.000"},{id:3,install_date:"25 Mar 2020",remove_date:"3 Dec 2020",expose_time:" 27 Dec 2021",coupon_id:"TW812",weight_loss:"0.1063",corrosion_rate:"0.006",max_pit_rate:"0.000",pitting_rate:"0.000"}],chartOptions:{},tabs:["Summary Dashboard","Monitoring Record"],active_tab:"Summary Dashboard",isShow:0}},computed:{},methods:{SET_IS_SHOW:function(t){t&&(this.isShow=t)},FETCH_MOC_RECORD:function(){var t=this;this.isLoading=!0,(0,r.p)({method:"get",url:"/ManagementOfChange/"+this.id_record,headers:{Authorization:"Bearer "+JSON.parse(localStorage.getItem("token"))}}).then((function(e){200==e.status&&e.data&&(t.mocList=e.data)}))["catch"]((function(t){console.log(t)}))["finally"]((function(){t.isLoading=!1}))},UPDATE_RECORD:function(){var t=this;null!==this.mocList.start_date&&(this.mocList.start_date=u()(this.mocList.start_date).format("L")),null!==this.mocList.expiry_date&&(this.mocList.expiry_date=u()(this.mocList.expiry_date).format("L")),(0,r.p)({method:"put",url:"/ManagementOfChange/"+this.mocList.id,headers:{Authorization:"Bearer "+JSON.parse(localStorage.getItem("token"))},data:this.mocList}).then((function(e){204==e.status&&t.SET_CURRENT_VIEW(0)}))["catch"]((function(e){t.$ons.notification.alert(e.code+" "+e.response.status+" "+e.message)}))["finally"]((function(){}))},DELETE_RECORD:function(){var t=this;(0,r.p)({method:"delete",url:"/ManagementOfChange/delete-management-of-change?id="+this.mocList.id,headers:{Authorization:"Bearer "+JSON.parse(localStorage.getItem("token"))}}).then((function(e){204==e.status&&t.SET_CURRENT_VIEW(0)}))["catch"]((function(e){t.$ons.notification.alert(e.code+" "+e.response.status+" "+e.message)}))["finally"]((function(){}))},FETCH_DROPDOWN_NOC:function(){var t=this;(0,r.p)({method:"get",url:"/Md/get-md-moc-noc-list",headers:{Authorization:"Bearer "+JSON.parse(localStorage.getItem("token"))},data:{}}).then((function(e){200==e.status&&e.data&&(t.formSelect.noc=e.data)}))["catch"]((function(t){console.log(t)}))["finally"]((function(){t.isLoading=!1}))},FETCH_DROPDOWN_STATUS:function(){var t=this;(0,r.p)({method:"get",url:"/Md/get-md-moc-status-list",headers:{Authorization:"Bearer "+JSON.parse(localStorage.getItem("token"))},data:{}}).then((function(e){200==e.status&&e.data&&(t.formSelect.status=e.data)}))["catch"]((function(t){console.log(t)}))["finally"]((function(){t.isLoading=!1}))},FETCH_DROPDOWN_RRL:function(){var t=this;(0,r.p)({method:"get",url:"/Md/get-md-moc-rrl-list",headers:{Authorization:"Bearer "+JSON.parse(localStorage.getItem("token"))},data:{}}).then((function(e){200==e.status&&e.data&&(t.formSelect.rrl=e.data)}))["catch"]((function(t){console.log(t)}))["finally"]((function(){t.isLoading=!1}))},SET_CURRENT_VIEW:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.$store.commit("SET_SHOW_BACK_BUTTON",!0),null!==e?this.$emit("currentView",t,e):this.$emit("currentView",t)}}},gt=_t;var ft=(0,S.A)(gt,A,P,!1,null,"a385f6e0",null);const Dt=ft.exports,xt={name:"inspection-record",components:{ViewFR:y,AddFR:w,EditFR:Dt},created:function(){this.$store.commit("UPDATE_CURRENT_PAGENAME",{subpageName:"MANAGEMENT OF CHANGE",subpageInnerName:null})},data:function(){return{current_view:0,edit_row:0,moc_no:null}},computed:{},methods:{SET_EDIT:function(t,e,a){console.log("moc",a),this.current_view=t,this.edit_row=e,this.moc_no=a}}},Ct=xt;var vt=(0,S.A)(Ct,i,o,!1,null,"175be5ad",null);const Et=vt.exports}}]);
//# sourceMappingURL=3371.bdd7bfd2.js.map